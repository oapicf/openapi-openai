/**
* OpenAI API
* The OpenAI REST API. Please see https://platform.openai.com/docs/api-reference for more details.
*
* The version of the OpenAPI document: 2.3.0
* Contact: blah+oapicf@cliffano.com
*
* NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
* https://openapi-generator.tech
* Do not edit the class manually.
*/
/*
 * FilesApi.h
 *
 * 
 */

#ifndef FilesApi_H_
#define FilesApi_H_


#include "ApiBase.h"

#include <pistache/http.h>
#include <pistache/router.h>
#include <pistache/http_headers.h>

#include <optional>
#include <utility>

#include "DeleteFileResponse.h"
#include "ListFilesResponse.h"
#include "OpenAIFile.h"
#include <string>

namespace org::openapitools::server::api
{

class  FilesApi : public ApiBase {
public:
    explicit FilesApi(const std::shared_ptr<Pistache::Rest::Router>& rtr);
    ~FilesApi() override = default;
    void init() override;

    static const std::string base;

private:
    void setupRoutes();

    void create_file_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void delete_file_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void download_file_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void list_files_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void retrieve_file_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);
    void files_api_default_handler(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter response);

    /// <summary>
    /// Helper function to handle unexpected Exceptions during Parameter parsing and validation.
    /// May be overridden to return custom error formats. This is called inside a catch block.
    /// Important: When overriding, do not call `throw ex;`, but instead use `throw;`.
    /// </summary>
    virtual void handleParsingException(const std::exception& ex, Pistache::Http::ResponseWriter &response) const noexcept;

    /// <summary>
    /// Helper function to handle unexpected Exceptions during Parameter parsing and validation.
    /// May be overridden to return custom error formats. This is called inside a catch block.
    /// Important: When overriding, do not call `throw ex;`, but instead use `throw;`.
    /// </summary>
    virtual std::pair<Pistache::Http::Code, std::string> handleParsingException(const std::exception& ex) const noexcept;

    /// <summary>
    /// Helper function to handle unexpected Exceptions during processing of the request in handler functions.
    /// May be overridden to return custom error formats. This is called inside a catch block.
    /// Important: When overriding, do not call `throw ex;`, but instead use `throw;`.
    /// </summary>
    virtual void handleOperationException(const std::exception& ex, Pistache::Http::ResponseWriter &response) const noexcept;

    /// <summary>
    /// Helper function to handle unexpected Exceptions during processing of the request in handler functions.
    /// May be overridden to return custom error formats. This is called inside a catch block.
    /// Important: When overriding, do not call `throw ex;`, but instead use `throw;`.
    /// </summary>
    virtual std::pair<Pistache::Http::Code, std::string> handleOperationException(const std::exception& ex) const noexcept;

    /// <summary>
    /// Upload a file that can be used across various endpoints. Individual files can be up to 512 MB, and the size of all files uploaded by one organization can be up to 100 GB.  The Assistants API supports files up to 2 million tokens and of specific file types. See the [Assistants Tools guide](/docs/assistants/tools) for details.  The Fine-tuning API only supports &#x60;.jsonl&#x60; files. The input also has certain required formats for fine-tuning [chat](/docs/api-reference/fine-tuning/chat-input) or [completions](/docs/api-reference/fine-tuning/completions-input) models.  The Batch API only supports &#x60;.jsonl&#x60; files up to 200 MB in size. The input also has a specific required [format](/docs/api-reference/batch/request-input).  Please [contact us](https://help.openai.com/) if you need to increase these storage limits. 
    /// </summary>
    /// <remarks>
    /// 
    /// </remarks>
    virtual void create_file(const Pistache::Rest::Request &request, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Delete a file.
    /// </summary>
    /// <remarks>
    /// 
    /// </remarks>
    /// <param name="fileId">The ID of the file to use for this request.</param>
    virtual void delete_file(const HttpBearerToken &accessToken,  const std::string &fileId, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Returns the contents of the specified file.
    /// </summary>
    /// <remarks>
    /// 
    /// </remarks>
    /// <param name="fileId">The ID of the file to use for this request.</param>
    virtual void download_file(const HttpBearerToken &accessToken,  const std::string &fileId, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Returns a list of files.
    /// </summary>
    /// <remarks>
    /// 
    /// </remarks>
    /// <param name="purpose">Only return files with the given purpose. (optional, default to &quot;&quot;)</param>
    /// <param name="limit">A limit on the number of objects to be returned. Limit can range between 1 and 10,000, and the default is 10,000.  (optional, default to 10000)</param>
    /// <param name="order">Sort order by the &#x60;created_at&#x60; timestamp of the objects. &#x60;asc&#x60; for ascending order and &#x60;desc&#x60; for descending order.  (optional, default to &quot;desc&quot;)</param>
    /// <param name="after">A cursor for use in pagination. &#x60;after&#x60; is an object ID that defines your place in the list. For instance, if you make a list request and receive 100 objects, ending with obj_foo, your subsequent call can include after&#x3D;obj_foo in order to fetch the next page of the list.  (optional, default to &quot;&quot;)</param>
    virtual void list_files(const HttpBearerToken &accessToken,  const std::optional<std::string> &purpose, const std::optional<int32_t> &limit, const std::optional<std::string> &order, const std::optional<std::string> &after, Pistache::Http::ResponseWriter &response) = 0;
    /// <summary>
    /// Returns information about a specific file.
    /// </summary>
    /// <remarks>
    /// 
    /// </remarks>
    /// <param name="fileId">The ID of the file to use for this request.</param>
    virtual void retrieve_file(const HttpBearerToken &accessToken,  const std::string &fileId, Pistache::Http::ResponseWriter &response) = 0;

};

} // namespace org::openapitools::server::api

#endif /* FilesApi_H_ */

