/**
 * OpenAI API
 * The OpenAI REST API. Please see https://platform.openai.com/docs/api-reference for more details.
 *
 * The version of the OpenAPI document: 2.3.0
 * Contact: blah+oapicf@cliffano.com
 *
 * NOTE: This class is auto generated by OpenAPI-Generator 7.18.0.
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */

/*
 * UsageApi.h
 *
 * 
 */

#ifndef UsageApi_H_
#define UsageApi_H_


#include <memory>
#include <utility>
#include <exception>
#include <functional>

#include <corvusoft/restbed/session.hpp>
#include <corvusoft/restbed/resource.hpp>
#include <corvusoft/restbed/request.hpp>
#include <corvusoft/restbed/service.hpp>
#include <corvusoft/restbed/settings.hpp>

#include "UsageResponse.h"
#include <string>
#include <vector>

namespace org {
namespace openapitools {
namespace server {
namespace api {

using namespace org::openapitools::server::model;

///
/// Exception to flag problems in the handlers
///
class  UsageApiException: public std::exception
{
public:
    UsageApiException(int status_code, std::string what);

    int getStatus() const;
    const char* what() const noexcept override;

private:
    int m_status;
    std::string m_what;
};

namespace UsageApiResources {
/// <summary>
/// Get audio speeches usage details for the organization.
/// </summary>
/// <remarks>
/// 
/// </remarks>
class  OrganizationUsageAudio_speechesResource: public restbed::Resource
{
public:
    OrganizationUsageAudio_speechesResource(const std::string& context = "/v1");
    virtual ~OrganizationUsageAudio_speechesResource() = default;

    OrganizationUsageAudio_speechesResource(
        const OrganizationUsageAudio_speechesResource& other) = default; // copy constructor
    OrganizationUsageAudio_speechesResource(OrganizationUsageAudio_speechesResource&& other) noexcept = default; // move constructor

    OrganizationUsageAudio_speechesResource& operator=(const OrganizationUsageAudio_speechesResource& other) = default; // copy assignment
    OrganizationUsageAudio_speechesResource& operator=(OrganizationUsageAudio_speechesResource&& other) noexcept = default; // move assignment

    /////////////////////////////////////////////////////
    // Set these to implement the server functionality //
    /////////////////////////////////////////////////////
    std::function<std::pair<int, UsageResponse>(
        int32_t & startTime, int32_t & endTime, std::string & bucketWidth, std::vector<std::string> & projectIds, std::vector<std::string> & userIds, std::vector<std::string> & apiKeyIds, std::vector<std::string> & models, std::vector<std::string> & groupBy, int32_t & limit, std::string & page)> handler_GET_func =
            [](int32_t &, int32_t &, std::string &, std::vector<std::string> &, std::vector<std::string> &, std::vector<std::string> &, std::vector<std::string> &, std::vector<std::string> &, int32_t &, std::string &) -> std::pair<int, UsageResponse>
                { throw UsageApiException(501, "Not implemented"); };


protected:
    //////////////////////////////////////////////////////////
    // As an alternative to setting the `std::function`s    //
    // override these to implement the server functionality //
    //////////////////////////////////////////////////////////

    virtual std::pair<int, UsageResponse> handler_GET(
        int32_t & startTime, int32_t & endTime, std::string & bucketWidth, std::vector<std::string> & projectIds, std::vector<std::string> & userIds, std::vector<std::string> & apiKeyIds, std::vector<std::string> & models, std::vector<std::string> & groupBy, int32_t & limit, std::string & page);


protected:
    //////////////////////////////////////
    // Override these for customization //
    //////////////////////////////////////

    virtual std::string extractBodyContent(const std::shared_ptr<restbed::Session>& session);
    virtual std::string extractFormParamsFromBody(const std::string& paramName, const std::string& body);

    virtual std::pair<int, std::string> handleUsageApiException(const UsageApiException& e);
    virtual std::pair<int, std::string> handleStdException(const std::exception& e);
    virtual std::pair<int, std::string> handleUnspecifiedException();

    virtual void setResponseHeader(const std::shared_ptr<restbed::Session>& session,
        const std::string& header);

    virtual void returnResponse(const std::shared_ptr<restbed::Session>& session,
        const int status, const std::string& result, std::multimap<std::string, std::string>& contentType);
    virtual void defaultSessionClose(const std::shared_ptr<restbed::Session>& session,
        const int status, const std::string& result);

private:
    void handler_GET_internal(const std::shared_ptr<restbed::Session> session);
};

/// <summary>
/// Get audio transcriptions usage details for the organization.
/// </summary>
/// <remarks>
/// 
/// </remarks>
class  OrganizationUsageAudio_transcriptionsResource: public restbed::Resource
{
public:
    OrganizationUsageAudio_transcriptionsResource(const std::string& context = "/v1");
    virtual ~OrganizationUsageAudio_transcriptionsResource() = default;

    OrganizationUsageAudio_transcriptionsResource(
        const OrganizationUsageAudio_transcriptionsResource& other) = default; // copy constructor
    OrganizationUsageAudio_transcriptionsResource(OrganizationUsageAudio_transcriptionsResource&& other) noexcept = default; // move constructor

    OrganizationUsageAudio_transcriptionsResource& operator=(const OrganizationUsageAudio_transcriptionsResource& other) = default; // copy assignment
    OrganizationUsageAudio_transcriptionsResource& operator=(OrganizationUsageAudio_transcriptionsResource&& other) noexcept = default; // move assignment

    /////////////////////////////////////////////////////
    // Set these to implement the server functionality //
    /////////////////////////////////////////////////////
    std::function<std::pair<int, UsageResponse>(
        int32_t & startTime, int32_t & endTime, std::string & bucketWidth, std::vector<std::string> & projectIds, std::vector<std::string> & userIds, std::vector<std::string> & apiKeyIds, std::vector<std::string> & models, std::vector<std::string> & groupBy, int32_t & limit, std::string & page)> handler_GET_func =
            [](int32_t &, int32_t &, std::string &, std::vector<std::string> &, std::vector<std::string> &, std::vector<std::string> &, std::vector<std::string> &, std::vector<std::string> &, int32_t &, std::string &) -> std::pair<int, UsageResponse>
                { throw UsageApiException(501, "Not implemented"); };


protected:
    //////////////////////////////////////////////////////////
    // As an alternative to setting the `std::function`s    //
    // override these to implement the server functionality //
    //////////////////////////////////////////////////////////

    virtual std::pair<int, UsageResponse> handler_GET(
        int32_t & startTime, int32_t & endTime, std::string & bucketWidth, std::vector<std::string> & projectIds, std::vector<std::string> & userIds, std::vector<std::string> & apiKeyIds, std::vector<std::string> & models, std::vector<std::string> & groupBy, int32_t & limit, std::string & page);


protected:
    //////////////////////////////////////
    // Override these for customization //
    //////////////////////////////////////

    virtual std::string extractBodyContent(const std::shared_ptr<restbed::Session>& session);
    virtual std::string extractFormParamsFromBody(const std::string& paramName, const std::string& body);

    virtual std::pair<int, std::string> handleUsageApiException(const UsageApiException& e);
    virtual std::pair<int, std::string> handleStdException(const std::exception& e);
    virtual std::pair<int, std::string> handleUnspecifiedException();

    virtual void setResponseHeader(const std::shared_ptr<restbed::Session>& session,
        const std::string& header);

    virtual void returnResponse(const std::shared_ptr<restbed::Session>& session,
        const int status, const std::string& result, std::multimap<std::string, std::string>& contentType);
    virtual void defaultSessionClose(const std::shared_ptr<restbed::Session>& session,
        const int status, const std::string& result);

private:
    void handler_GET_internal(const std::shared_ptr<restbed::Session> session);
};

/// <summary>
/// Get code interpreter sessions usage details for the organization.
/// </summary>
/// <remarks>
/// 
/// </remarks>
class  OrganizationUsageCode_interpreter_sessionsResource: public restbed::Resource
{
public:
    OrganizationUsageCode_interpreter_sessionsResource(const std::string& context = "/v1");
    virtual ~OrganizationUsageCode_interpreter_sessionsResource() = default;

    OrganizationUsageCode_interpreter_sessionsResource(
        const OrganizationUsageCode_interpreter_sessionsResource& other) = default; // copy constructor
    OrganizationUsageCode_interpreter_sessionsResource(OrganizationUsageCode_interpreter_sessionsResource&& other) noexcept = default; // move constructor

    OrganizationUsageCode_interpreter_sessionsResource& operator=(const OrganizationUsageCode_interpreter_sessionsResource& other) = default; // copy assignment
    OrganizationUsageCode_interpreter_sessionsResource& operator=(OrganizationUsageCode_interpreter_sessionsResource&& other) noexcept = default; // move assignment

    /////////////////////////////////////////////////////
    // Set these to implement the server functionality //
    /////////////////////////////////////////////////////
    std::function<std::pair<int, UsageResponse>(
        int32_t & startTime, int32_t & endTime, std::string & bucketWidth, std::vector<std::string> & projectIds, std::vector<std::string> & groupBy, int32_t & limit, std::string & page)> handler_GET_func =
            [](int32_t &, int32_t &, std::string &, std::vector<std::string> &, std::vector<std::string> &, int32_t &, std::string &) -> std::pair<int, UsageResponse>
                { throw UsageApiException(501, "Not implemented"); };


protected:
    //////////////////////////////////////////////////////////
    // As an alternative to setting the `std::function`s    //
    // override these to implement the server functionality //
    //////////////////////////////////////////////////////////

    virtual std::pair<int, UsageResponse> handler_GET(
        int32_t & startTime, int32_t & endTime, std::string & bucketWidth, std::vector<std::string> & projectIds, std::vector<std::string> & groupBy, int32_t & limit, std::string & page);


protected:
    //////////////////////////////////////
    // Override these for customization //
    //////////////////////////////////////

    virtual std::string extractBodyContent(const std::shared_ptr<restbed::Session>& session);
    virtual std::string extractFormParamsFromBody(const std::string& paramName, const std::string& body);

    virtual std::pair<int, std::string> handleUsageApiException(const UsageApiException& e);
    virtual std::pair<int, std::string> handleStdException(const std::exception& e);
    virtual std::pair<int, std::string> handleUnspecifiedException();

    virtual void setResponseHeader(const std::shared_ptr<restbed::Session>& session,
        const std::string& header);

    virtual void returnResponse(const std::shared_ptr<restbed::Session>& session,
        const int status, const std::string& result, std::multimap<std::string, std::string>& contentType);
    virtual void defaultSessionClose(const std::shared_ptr<restbed::Session>& session,
        const int status, const std::string& result);

private:
    void handler_GET_internal(const std::shared_ptr<restbed::Session> session);
};

/// <summary>
/// Get completions usage details for the organization.
/// </summary>
/// <remarks>
/// 
/// </remarks>
class  OrganizationUsageCompletionsResource: public restbed::Resource
{
public:
    OrganizationUsageCompletionsResource(const std::string& context = "/v1");
    virtual ~OrganizationUsageCompletionsResource() = default;

    OrganizationUsageCompletionsResource(
        const OrganizationUsageCompletionsResource& other) = default; // copy constructor
    OrganizationUsageCompletionsResource(OrganizationUsageCompletionsResource&& other) noexcept = default; // move constructor

    OrganizationUsageCompletionsResource& operator=(const OrganizationUsageCompletionsResource& other) = default; // copy assignment
    OrganizationUsageCompletionsResource& operator=(OrganizationUsageCompletionsResource&& other) noexcept = default; // move assignment

    /////////////////////////////////////////////////////
    // Set these to implement the server functionality //
    /////////////////////////////////////////////////////
    std::function<std::pair<int, UsageResponse>(
        int32_t & startTime, int32_t & endTime, std::string & bucketWidth, std::vector<std::string> & projectIds, std::vector<std::string> & userIds, std::vector<std::string> & apiKeyIds, std::vector<std::string> & models, bool & batch, std::vector<std::string> & groupBy, int32_t & limit, std::string & page)> handler_GET_func =
            [](int32_t &, int32_t &, std::string &, std::vector<std::string> &, std::vector<std::string> &, std::vector<std::string> &, std::vector<std::string> &, bool &, std::vector<std::string> &, int32_t &, std::string &) -> std::pair<int, UsageResponse>
                { throw UsageApiException(501, "Not implemented"); };


protected:
    //////////////////////////////////////////////////////////
    // As an alternative to setting the `std::function`s    //
    // override these to implement the server functionality //
    //////////////////////////////////////////////////////////

    virtual std::pair<int, UsageResponse> handler_GET(
        int32_t & startTime, int32_t & endTime, std::string & bucketWidth, std::vector<std::string> & projectIds, std::vector<std::string> & userIds, std::vector<std::string> & apiKeyIds, std::vector<std::string> & models, bool & batch, std::vector<std::string> & groupBy, int32_t & limit, std::string & page);


protected:
    //////////////////////////////////////
    // Override these for customization //
    //////////////////////////////////////

    virtual std::string extractBodyContent(const std::shared_ptr<restbed::Session>& session);
    virtual std::string extractFormParamsFromBody(const std::string& paramName, const std::string& body);

    virtual std::pair<int, std::string> handleUsageApiException(const UsageApiException& e);
    virtual std::pair<int, std::string> handleStdException(const std::exception& e);
    virtual std::pair<int, std::string> handleUnspecifiedException();

    virtual void setResponseHeader(const std::shared_ptr<restbed::Session>& session,
        const std::string& header);

    virtual void returnResponse(const std::shared_ptr<restbed::Session>& session,
        const int status, const std::string& result, std::multimap<std::string, std::string>& contentType);
    virtual void defaultSessionClose(const std::shared_ptr<restbed::Session>& session,
        const int status, const std::string& result);

private:
    void handler_GET_internal(const std::shared_ptr<restbed::Session> session);
};

/// <summary>
/// Get costs details for the organization.
/// </summary>
/// <remarks>
/// 
/// </remarks>
class  OrganizationCostsResource: public restbed::Resource
{
public:
    OrganizationCostsResource(const std::string& context = "/v1");
    virtual ~OrganizationCostsResource() = default;

    OrganizationCostsResource(
        const OrganizationCostsResource& other) = default; // copy constructor
    OrganizationCostsResource(OrganizationCostsResource&& other) noexcept = default; // move constructor

    OrganizationCostsResource& operator=(const OrganizationCostsResource& other) = default; // copy assignment
    OrganizationCostsResource& operator=(OrganizationCostsResource&& other) noexcept = default; // move assignment

    /////////////////////////////////////////////////////
    // Set these to implement the server functionality //
    /////////////////////////////////////////////////////
    std::function<std::pair<int, UsageResponse>(
        int32_t & startTime, int32_t & endTime, std::string & bucketWidth, std::vector<std::string> & projectIds, std::vector<std::string> & groupBy, int32_t & limit, std::string & page)> handler_GET_func =
            [](int32_t &, int32_t &, std::string &, std::vector<std::string> &, std::vector<std::string> &, int32_t &, std::string &) -> std::pair<int, UsageResponse>
                { throw UsageApiException(501, "Not implemented"); };


protected:
    //////////////////////////////////////////////////////////
    // As an alternative to setting the `std::function`s    //
    // override these to implement the server functionality //
    //////////////////////////////////////////////////////////

    virtual std::pair<int, UsageResponse> handler_GET(
        int32_t & startTime, int32_t & endTime, std::string & bucketWidth, std::vector<std::string> & projectIds, std::vector<std::string> & groupBy, int32_t & limit, std::string & page);


protected:
    //////////////////////////////////////
    // Override these for customization //
    //////////////////////////////////////

    virtual std::string extractBodyContent(const std::shared_ptr<restbed::Session>& session);
    virtual std::string extractFormParamsFromBody(const std::string& paramName, const std::string& body);

    virtual std::pair<int, std::string> handleUsageApiException(const UsageApiException& e);
    virtual std::pair<int, std::string> handleStdException(const std::exception& e);
    virtual std::pair<int, std::string> handleUnspecifiedException();

    virtual void setResponseHeader(const std::shared_ptr<restbed::Session>& session,
        const std::string& header);

    virtual void returnResponse(const std::shared_ptr<restbed::Session>& session,
        const int status, const std::string& result, std::multimap<std::string, std::string>& contentType);
    virtual void defaultSessionClose(const std::shared_ptr<restbed::Session>& session,
        const int status, const std::string& result);

private:
    void handler_GET_internal(const std::shared_ptr<restbed::Session> session);
};

/// <summary>
/// Get embeddings usage details for the organization.
/// </summary>
/// <remarks>
/// 
/// </remarks>
class  OrganizationUsageEmbeddingsResource: public restbed::Resource
{
public:
    OrganizationUsageEmbeddingsResource(const std::string& context = "/v1");
    virtual ~OrganizationUsageEmbeddingsResource() = default;

    OrganizationUsageEmbeddingsResource(
        const OrganizationUsageEmbeddingsResource& other) = default; // copy constructor
    OrganizationUsageEmbeddingsResource(OrganizationUsageEmbeddingsResource&& other) noexcept = default; // move constructor

    OrganizationUsageEmbeddingsResource& operator=(const OrganizationUsageEmbeddingsResource& other) = default; // copy assignment
    OrganizationUsageEmbeddingsResource& operator=(OrganizationUsageEmbeddingsResource&& other) noexcept = default; // move assignment

    /////////////////////////////////////////////////////
    // Set these to implement the server functionality //
    /////////////////////////////////////////////////////
    std::function<std::pair<int, UsageResponse>(
        int32_t & startTime, int32_t & endTime, std::string & bucketWidth, std::vector<std::string> & projectIds, std::vector<std::string> & userIds, std::vector<std::string> & apiKeyIds, std::vector<std::string> & models, std::vector<std::string> & groupBy, int32_t & limit, std::string & page)> handler_GET_func =
            [](int32_t &, int32_t &, std::string &, std::vector<std::string> &, std::vector<std::string> &, std::vector<std::string> &, std::vector<std::string> &, std::vector<std::string> &, int32_t &, std::string &) -> std::pair<int, UsageResponse>
                { throw UsageApiException(501, "Not implemented"); };


protected:
    //////////////////////////////////////////////////////////
    // As an alternative to setting the `std::function`s    //
    // override these to implement the server functionality //
    //////////////////////////////////////////////////////////

    virtual std::pair<int, UsageResponse> handler_GET(
        int32_t & startTime, int32_t & endTime, std::string & bucketWidth, std::vector<std::string> & projectIds, std::vector<std::string> & userIds, std::vector<std::string> & apiKeyIds, std::vector<std::string> & models, std::vector<std::string> & groupBy, int32_t & limit, std::string & page);


protected:
    //////////////////////////////////////
    // Override these for customization //
    //////////////////////////////////////

    virtual std::string extractBodyContent(const std::shared_ptr<restbed::Session>& session);
    virtual std::string extractFormParamsFromBody(const std::string& paramName, const std::string& body);

    virtual std::pair<int, std::string> handleUsageApiException(const UsageApiException& e);
    virtual std::pair<int, std::string> handleStdException(const std::exception& e);
    virtual std::pair<int, std::string> handleUnspecifiedException();

    virtual void setResponseHeader(const std::shared_ptr<restbed::Session>& session,
        const std::string& header);

    virtual void returnResponse(const std::shared_ptr<restbed::Session>& session,
        const int status, const std::string& result, std::multimap<std::string, std::string>& contentType);
    virtual void defaultSessionClose(const std::shared_ptr<restbed::Session>& session,
        const int status, const std::string& result);

private:
    void handler_GET_internal(const std::shared_ptr<restbed::Session> session);
};

/// <summary>
/// Get images usage details for the organization.
/// </summary>
/// <remarks>
/// 
/// </remarks>
class  OrganizationUsageImagesResource: public restbed::Resource
{
public:
    OrganizationUsageImagesResource(const std::string& context = "/v1");
    virtual ~OrganizationUsageImagesResource() = default;

    OrganizationUsageImagesResource(
        const OrganizationUsageImagesResource& other) = default; // copy constructor
    OrganizationUsageImagesResource(OrganizationUsageImagesResource&& other) noexcept = default; // move constructor

    OrganizationUsageImagesResource& operator=(const OrganizationUsageImagesResource& other) = default; // copy assignment
    OrganizationUsageImagesResource& operator=(OrganizationUsageImagesResource&& other) noexcept = default; // move assignment

    /////////////////////////////////////////////////////
    // Set these to implement the server functionality //
    /////////////////////////////////////////////////////
    std::function<std::pair<int, UsageResponse>(
        int32_t & startTime, int32_t & endTime, std::string & bucketWidth, std::vector<std::string> & sources, std::vector<std::string> & sizes, std::vector<std::string> & projectIds, std::vector<std::string> & userIds, std::vector<std::string> & apiKeyIds, std::vector<std::string> & models, std::vector<std::string> & groupBy, int32_t & limit, std::string & page)> handler_GET_func =
            [](int32_t &, int32_t &, std::string &, std::vector<std::string> &, std::vector<std::string> &, std::vector<std::string> &, std::vector<std::string> &, std::vector<std::string> &, std::vector<std::string> &, std::vector<std::string> &, int32_t &, std::string &) -> std::pair<int, UsageResponse>
                { throw UsageApiException(501, "Not implemented"); };


protected:
    //////////////////////////////////////////////////////////
    // As an alternative to setting the `std::function`s    //
    // override these to implement the server functionality //
    //////////////////////////////////////////////////////////

    virtual std::pair<int, UsageResponse> handler_GET(
        int32_t & startTime, int32_t & endTime, std::string & bucketWidth, std::vector<std::string> & sources, std::vector<std::string> & sizes, std::vector<std::string> & projectIds, std::vector<std::string> & userIds, std::vector<std::string> & apiKeyIds, std::vector<std::string> & models, std::vector<std::string> & groupBy, int32_t & limit, std::string & page);


protected:
    //////////////////////////////////////
    // Override these for customization //
    //////////////////////////////////////

    virtual std::string extractBodyContent(const std::shared_ptr<restbed::Session>& session);
    virtual std::string extractFormParamsFromBody(const std::string& paramName, const std::string& body);

    virtual std::pair<int, std::string> handleUsageApiException(const UsageApiException& e);
    virtual std::pair<int, std::string> handleStdException(const std::exception& e);
    virtual std::pair<int, std::string> handleUnspecifiedException();

    virtual void setResponseHeader(const std::shared_ptr<restbed::Session>& session,
        const std::string& header);

    virtual void returnResponse(const std::shared_ptr<restbed::Session>& session,
        const int status, const std::string& result, std::multimap<std::string, std::string>& contentType);
    virtual void defaultSessionClose(const std::shared_ptr<restbed::Session>& session,
        const int status, const std::string& result);

private:
    void handler_GET_internal(const std::shared_ptr<restbed::Session> session);
};

/// <summary>
/// Get moderations usage details for the organization.
/// </summary>
/// <remarks>
/// 
/// </remarks>
class  OrganizationUsageModerationsResource: public restbed::Resource
{
public:
    OrganizationUsageModerationsResource(const std::string& context = "/v1");
    virtual ~OrganizationUsageModerationsResource() = default;

    OrganizationUsageModerationsResource(
        const OrganizationUsageModerationsResource& other) = default; // copy constructor
    OrganizationUsageModerationsResource(OrganizationUsageModerationsResource&& other) noexcept = default; // move constructor

    OrganizationUsageModerationsResource& operator=(const OrganizationUsageModerationsResource& other) = default; // copy assignment
    OrganizationUsageModerationsResource& operator=(OrganizationUsageModerationsResource&& other) noexcept = default; // move assignment

    /////////////////////////////////////////////////////
    // Set these to implement the server functionality //
    /////////////////////////////////////////////////////
    std::function<std::pair<int, UsageResponse>(
        int32_t & startTime, int32_t & endTime, std::string & bucketWidth, std::vector<std::string> & projectIds, std::vector<std::string> & userIds, std::vector<std::string> & apiKeyIds, std::vector<std::string> & models, std::vector<std::string> & groupBy, int32_t & limit, std::string & page)> handler_GET_func =
            [](int32_t &, int32_t &, std::string &, std::vector<std::string> &, std::vector<std::string> &, std::vector<std::string> &, std::vector<std::string> &, std::vector<std::string> &, int32_t &, std::string &) -> std::pair<int, UsageResponse>
                { throw UsageApiException(501, "Not implemented"); };


protected:
    //////////////////////////////////////////////////////////
    // As an alternative to setting the `std::function`s    //
    // override these to implement the server functionality //
    //////////////////////////////////////////////////////////

    virtual std::pair<int, UsageResponse> handler_GET(
        int32_t & startTime, int32_t & endTime, std::string & bucketWidth, std::vector<std::string> & projectIds, std::vector<std::string> & userIds, std::vector<std::string> & apiKeyIds, std::vector<std::string> & models, std::vector<std::string> & groupBy, int32_t & limit, std::string & page);


protected:
    //////////////////////////////////////
    // Override these for customization //
    //////////////////////////////////////

    virtual std::string extractBodyContent(const std::shared_ptr<restbed::Session>& session);
    virtual std::string extractFormParamsFromBody(const std::string& paramName, const std::string& body);

    virtual std::pair<int, std::string> handleUsageApiException(const UsageApiException& e);
    virtual std::pair<int, std::string> handleStdException(const std::exception& e);
    virtual std::pair<int, std::string> handleUnspecifiedException();

    virtual void setResponseHeader(const std::shared_ptr<restbed::Session>& session,
        const std::string& header);

    virtual void returnResponse(const std::shared_ptr<restbed::Session>& session,
        const int status, const std::string& result, std::multimap<std::string, std::string>& contentType);
    virtual void defaultSessionClose(const std::shared_ptr<restbed::Session>& session,
        const int status, const std::string& result);

private:
    void handler_GET_internal(const std::shared_ptr<restbed::Session> session);
};

/// <summary>
/// Get vector stores usage details for the organization.
/// </summary>
/// <remarks>
/// 
/// </remarks>
class  OrganizationUsageVector_storesResource: public restbed::Resource
{
public:
    OrganizationUsageVector_storesResource(const std::string& context = "/v1");
    virtual ~OrganizationUsageVector_storesResource() = default;

    OrganizationUsageVector_storesResource(
        const OrganizationUsageVector_storesResource& other) = default; // copy constructor
    OrganizationUsageVector_storesResource(OrganizationUsageVector_storesResource&& other) noexcept = default; // move constructor

    OrganizationUsageVector_storesResource& operator=(const OrganizationUsageVector_storesResource& other) = default; // copy assignment
    OrganizationUsageVector_storesResource& operator=(OrganizationUsageVector_storesResource&& other) noexcept = default; // move assignment

    /////////////////////////////////////////////////////
    // Set these to implement the server functionality //
    /////////////////////////////////////////////////////
    std::function<std::pair<int, UsageResponse>(
        int32_t & startTime, int32_t & endTime, std::string & bucketWidth, std::vector<std::string> & projectIds, std::vector<std::string> & groupBy, int32_t & limit, std::string & page)> handler_GET_func =
            [](int32_t &, int32_t &, std::string &, std::vector<std::string> &, std::vector<std::string> &, int32_t &, std::string &) -> std::pair<int, UsageResponse>
                { throw UsageApiException(501, "Not implemented"); };


protected:
    //////////////////////////////////////////////////////////
    // As an alternative to setting the `std::function`s    //
    // override these to implement the server functionality //
    //////////////////////////////////////////////////////////

    virtual std::pair<int, UsageResponse> handler_GET(
        int32_t & startTime, int32_t & endTime, std::string & bucketWidth, std::vector<std::string> & projectIds, std::vector<std::string> & groupBy, int32_t & limit, std::string & page);


protected:
    //////////////////////////////////////
    // Override these for customization //
    //////////////////////////////////////

    virtual std::string extractBodyContent(const std::shared_ptr<restbed::Session>& session);
    virtual std::string extractFormParamsFromBody(const std::string& paramName, const std::string& body);

    virtual std::pair<int, std::string> handleUsageApiException(const UsageApiException& e);
    virtual std::pair<int, std::string> handleStdException(const std::exception& e);
    virtual std::pair<int, std::string> handleUnspecifiedException();

    virtual void setResponseHeader(const std::shared_ptr<restbed::Session>& session,
        const std::string& header);

    virtual void returnResponse(const std::shared_ptr<restbed::Session>& session,
        const int status, const std::string& result, std::multimap<std::string, std::string>& contentType);
    virtual void defaultSessionClose(const std::shared_ptr<restbed::Session>& session,
        const int status, const std::string& result);

private:
    void handler_GET_internal(const std::shared_ptr<restbed::Session> session);
};

} /* namespace UsageApiResources */

using UsageApiOrganizationUsageAudio_speechesResource [[deprecated]] = UsageApiResources::OrganizationUsageAudio_speechesResource;
using UsageApiOrganizationUsageAudio_transcriptionsResource [[deprecated]] = UsageApiResources::OrganizationUsageAudio_transcriptionsResource;
using UsageApiOrganizationUsageCode_interpreter_sessionsResource [[deprecated]] = UsageApiResources::OrganizationUsageCode_interpreter_sessionsResource;
using UsageApiOrganizationUsageCompletionsResource [[deprecated]] = UsageApiResources::OrganizationUsageCompletionsResource;
using UsageApiOrganizationCostsResource [[deprecated]] = UsageApiResources::OrganizationCostsResource;
using UsageApiOrganizationUsageEmbeddingsResource [[deprecated]] = UsageApiResources::OrganizationUsageEmbeddingsResource;
using UsageApiOrganizationUsageImagesResource [[deprecated]] = UsageApiResources::OrganizationUsageImagesResource;
using UsageApiOrganizationUsageModerationsResource [[deprecated]] = UsageApiResources::OrganizationUsageModerationsResource;
using UsageApiOrganizationUsageVector_storesResource [[deprecated]] = UsageApiResources::OrganizationUsageVector_storesResource;

//
// The restbed service to actually implement the REST server
//
class  UsageApi
{
public:
    explicit UsageApi(std::shared_ptr<restbed::Service> const& restbedService);
    virtual ~UsageApi();

    std::shared_ptr<UsageApiResources::OrganizationUsageAudio_speechesResource> getOrganizationUsageAudio_speechesResource();
    std::shared_ptr<UsageApiResources::OrganizationUsageAudio_transcriptionsResource> getOrganizationUsageAudio_transcriptionsResource();
    std::shared_ptr<UsageApiResources::OrganizationUsageCode_interpreter_sessionsResource> getOrganizationUsageCode_interpreter_sessionsResource();
    std::shared_ptr<UsageApiResources::OrganizationUsageCompletionsResource> getOrganizationUsageCompletionsResource();
    std::shared_ptr<UsageApiResources::OrganizationCostsResource> getOrganizationCostsResource();
    std::shared_ptr<UsageApiResources::OrganizationUsageEmbeddingsResource> getOrganizationUsageEmbeddingsResource();
    std::shared_ptr<UsageApiResources::OrganizationUsageImagesResource> getOrganizationUsageImagesResource();
    std::shared_ptr<UsageApiResources::OrganizationUsageModerationsResource> getOrganizationUsageModerationsResource();
    std::shared_ptr<UsageApiResources::OrganizationUsageVector_storesResource> getOrganizationUsageVector_storesResource();

    void setResource(std::shared_ptr<UsageApiResources::OrganizationUsageAudio_speechesResource> resource);
    void setResource(std::shared_ptr<UsageApiResources::OrganizationUsageAudio_transcriptionsResource> resource);
    void setResource(std::shared_ptr<UsageApiResources::OrganizationUsageCode_interpreter_sessionsResource> resource);
    void setResource(std::shared_ptr<UsageApiResources::OrganizationUsageCompletionsResource> resource);
    void setResource(std::shared_ptr<UsageApiResources::OrganizationCostsResource> resource);
    void setResource(std::shared_ptr<UsageApiResources::OrganizationUsageEmbeddingsResource> resource);
    void setResource(std::shared_ptr<UsageApiResources::OrganizationUsageImagesResource> resource);
    void setResource(std::shared_ptr<UsageApiResources::OrganizationUsageModerationsResource> resource);
    void setResource(std::shared_ptr<UsageApiResources::OrganizationUsageVector_storesResource> resource);
    [[deprecated("use setResource()")]]
    virtual void setUsageApiOrganizationUsageAudio_speechesResource(std::shared_ptr<UsageApiResources::OrganizationUsageAudio_speechesResource> spUsageApiOrganizationUsageAudio_speechesResource);
    [[deprecated("use setResource()")]]
    virtual void setUsageApiOrganizationUsageAudio_transcriptionsResource(std::shared_ptr<UsageApiResources::OrganizationUsageAudio_transcriptionsResource> spUsageApiOrganizationUsageAudio_transcriptionsResource);
    [[deprecated("use setResource()")]]
    virtual void setUsageApiOrganizationUsageCode_interpreter_sessionsResource(std::shared_ptr<UsageApiResources::OrganizationUsageCode_interpreter_sessionsResource> spUsageApiOrganizationUsageCode_interpreter_sessionsResource);
    [[deprecated("use setResource()")]]
    virtual void setUsageApiOrganizationUsageCompletionsResource(std::shared_ptr<UsageApiResources::OrganizationUsageCompletionsResource> spUsageApiOrganizationUsageCompletionsResource);
    [[deprecated("use setResource()")]]
    virtual void setUsageApiOrganizationCostsResource(std::shared_ptr<UsageApiResources::OrganizationCostsResource> spUsageApiOrganizationCostsResource);
    [[deprecated("use setResource()")]]
    virtual void setUsageApiOrganizationUsageEmbeddingsResource(std::shared_ptr<UsageApiResources::OrganizationUsageEmbeddingsResource> spUsageApiOrganizationUsageEmbeddingsResource);
    [[deprecated("use setResource()")]]
    virtual void setUsageApiOrganizationUsageImagesResource(std::shared_ptr<UsageApiResources::OrganizationUsageImagesResource> spUsageApiOrganizationUsageImagesResource);
    [[deprecated("use setResource()")]]
    virtual void setUsageApiOrganizationUsageModerationsResource(std::shared_ptr<UsageApiResources::OrganizationUsageModerationsResource> spUsageApiOrganizationUsageModerationsResource);
    [[deprecated("use setResource()")]]
    virtual void setUsageApiOrganizationUsageVector_storesResource(std::shared_ptr<UsageApiResources::OrganizationUsageVector_storesResource> spUsageApiOrganizationUsageVector_storesResource);

    virtual void publishDefaultResources();

    virtual std::shared_ptr<restbed::Service> service();

protected:
    std::shared_ptr<UsageApiResources::OrganizationUsageAudio_speechesResource> m_spOrganizationUsageAudio_speechesResource;
    std::shared_ptr<UsageApiResources::OrganizationUsageAudio_transcriptionsResource> m_spOrganizationUsageAudio_transcriptionsResource;
    std::shared_ptr<UsageApiResources::OrganizationUsageCode_interpreter_sessionsResource> m_spOrganizationUsageCode_interpreter_sessionsResource;
    std::shared_ptr<UsageApiResources::OrganizationUsageCompletionsResource> m_spOrganizationUsageCompletionsResource;
    std::shared_ptr<UsageApiResources::OrganizationCostsResource> m_spOrganizationCostsResource;
    std::shared_ptr<UsageApiResources::OrganizationUsageEmbeddingsResource> m_spOrganizationUsageEmbeddingsResource;
    std::shared_ptr<UsageApiResources::OrganizationUsageImagesResource> m_spOrganizationUsageImagesResource;
    std::shared_ptr<UsageApiResources::OrganizationUsageModerationsResource> m_spOrganizationUsageModerationsResource;
    std::shared_ptr<UsageApiResources::OrganizationUsageVector_storesResource> m_spOrganizationUsageVector_storesResource;

private:
    std::shared_ptr<restbed::Service> m_service;
};


}
}
}
}

#endif /* UsageApi_H_ */

