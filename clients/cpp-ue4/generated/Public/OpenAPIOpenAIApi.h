/**
 * OpenAI API
 * APIs for sampling from and fine-tuning language models
 *
 * OpenAPI spec version: 2.0.0
 * Contact: blah+oapicf@cliffano.com
 *
 * NOTE: This class is auto generated by OpenAPI Generator
 * https://github.com/OpenAPITools/openapi-generator
 * Do not edit the class manually.
 */

#pragma once

#include "CoreMinimal.h"
#include "OpenAPIBaseModel.h"

namespace OpenAPI
{

class OPENAPI_API OpenAPIOpenAIApi
{
public:
	OpenAPIOpenAIApi();
	~OpenAPIOpenAIApi();

	/* Sets the URL Endpoint.
	* Note: several fallback endpoints can be configured in request retry policies, see Request::SetShouldRetry */
	void SetURL(const FString& Url);

	/* Adds global header params to all requests */
	void AddHeaderParam(const FString& Key, const FString& Value);
	void ClearHeaderParams();

	/* Sets the retry manager to the user-defined retry manager. User must manage the lifetime of the retry manager.
	* If no retry manager is specified and a request needs retries, a default retry manager will be used.
	* See also: Request::SetShouldRetry */
	void SetHttpRetryManager(FHttpRetrySystem::FManager& RetryManager);
	FHttpRetrySystem::FManager& GetHttpRetryManager();

	class CancelFineTuneRequest;
	class CancelFineTuneResponse;
	class CreateChatCompletionRequest;
	class CreateChatCompletionResponse;
	class CreateCompletionRequest;
	class CreateCompletionResponse;
	class CreateEditRequest;
	class CreateEditResponse;
	class CreateEmbeddingRequest;
	class CreateEmbeddingResponse;
	class CreateFileRequest;
	class CreateFileResponse;
	class CreateFineTuneRequest;
	class CreateFineTuneResponse;
	class CreateImageRequest;
	class CreateImageResponse;
	class CreateImageEditRequest;
	class CreateImageEditResponse;
	class CreateImageVariationRequest;
	class CreateImageVariationResponse;
	class CreateModerationRequest;
	class CreateModerationResponse;
	class CreateTranscriptionRequest;
	class CreateTranscriptionResponse;
	class CreateTranslationRequest;
	class CreateTranslationResponse;
	class DeleteFileRequest;
	class DeleteFileResponse;
	class DeleteModelRequest;
	class DeleteModelResponse;
	class DownloadFileRequest;
	class DownloadFileResponse;
	class ListFilesRequest;
	class ListFilesResponse;
	class ListFineTuneEventsRequest;
	class ListFineTuneEventsResponse;
	class ListFineTunesRequest;
	class ListFineTunesResponse;
	class ListModelsRequest;
	class ListModelsResponse;
	class RetrieveFileRequest;
	class RetrieveFileResponse;
	class RetrieveFineTuneRequest;
	class RetrieveFineTuneResponse;
	class RetrieveModelRequest;
	class RetrieveModelResponse;
	
    DECLARE_DELEGATE_OneParam(FCancelFineTuneDelegate, const CancelFineTuneResponse&);
    DECLARE_DELEGATE_OneParam(FCreateChatCompletionDelegate, const CreateChatCompletionResponse&);
    DECLARE_DELEGATE_OneParam(FCreateCompletionDelegate, const CreateCompletionResponse&);
    DECLARE_DELEGATE_OneParam(FCreateEditDelegate, const CreateEditResponse&);
    DECLARE_DELEGATE_OneParam(FCreateEmbeddingDelegate, const CreateEmbeddingResponse&);
    DECLARE_DELEGATE_OneParam(FCreateFileDelegate, const CreateFileResponse&);
    DECLARE_DELEGATE_OneParam(FCreateFineTuneDelegate, const CreateFineTuneResponse&);
    DECLARE_DELEGATE_OneParam(FCreateImageDelegate, const CreateImageResponse&);
    DECLARE_DELEGATE_OneParam(FCreateImageEditDelegate, const CreateImageEditResponse&);
    DECLARE_DELEGATE_OneParam(FCreateImageVariationDelegate, const CreateImageVariationResponse&);
    DECLARE_DELEGATE_OneParam(FCreateModerationDelegate, const CreateModerationResponse&);
    DECLARE_DELEGATE_OneParam(FCreateTranscriptionDelegate, const CreateTranscriptionResponse&);
    DECLARE_DELEGATE_OneParam(FCreateTranslationDelegate, const CreateTranslationResponse&);
    DECLARE_DELEGATE_OneParam(FDeleteFileDelegate, const DeleteFileResponse&);
    DECLARE_DELEGATE_OneParam(FDeleteModelDelegate, const DeleteModelResponse&);
    DECLARE_DELEGATE_OneParam(FDownloadFileDelegate, const DownloadFileResponse&);
    DECLARE_DELEGATE_OneParam(FListFilesDelegate, const ListFilesResponse&);
    DECLARE_DELEGATE_OneParam(FListFineTuneEventsDelegate, const ListFineTuneEventsResponse&);
    DECLARE_DELEGATE_OneParam(FListFineTunesDelegate, const ListFineTunesResponse&);
    DECLARE_DELEGATE_OneParam(FListModelsDelegate, const ListModelsResponse&);
    DECLARE_DELEGATE_OneParam(FRetrieveFileDelegate, const RetrieveFileResponse&);
    DECLARE_DELEGATE_OneParam(FRetrieveFineTuneDelegate, const RetrieveFineTuneResponse&);
    DECLARE_DELEGATE_OneParam(FRetrieveModelDelegate, const RetrieveModelResponse&);
    
    FHttpRequestPtr CancelFineTune(const CancelFineTuneRequest& Request, const FCancelFineTuneDelegate& Delegate = FCancelFineTuneDelegate()) const;
    FHttpRequestPtr CreateChatCompletion(const CreateChatCompletionRequest& Request, const FCreateChatCompletionDelegate& Delegate = FCreateChatCompletionDelegate()) const;
    FHttpRequestPtr CreateCompletion(const CreateCompletionRequest& Request, const FCreateCompletionDelegate& Delegate = FCreateCompletionDelegate()) const;
    FHttpRequestPtr CreateEdit(const CreateEditRequest& Request, const FCreateEditDelegate& Delegate = FCreateEditDelegate()) const;
    FHttpRequestPtr CreateEmbedding(const CreateEmbeddingRequest& Request, const FCreateEmbeddingDelegate& Delegate = FCreateEmbeddingDelegate()) const;
    FHttpRequestPtr CreateFile(const CreateFileRequest& Request, const FCreateFileDelegate& Delegate = FCreateFileDelegate()) const;
    FHttpRequestPtr CreateFineTune(const CreateFineTuneRequest& Request, const FCreateFineTuneDelegate& Delegate = FCreateFineTuneDelegate()) const;
    FHttpRequestPtr CreateImage(const CreateImageRequest& Request, const FCreateImageDelegate& Delegate = FCreateImageDelegate()) const;
    FHttpRequestPtr CreateImageEdit(const CreateImageEditRequest& Request, const FCreateImageEditDelegate& Delegate = FCreateImageEditDelegate()) const;
    FHttpRequestPtr CreateImageVariation(const CreateImageVariationRequest& Request, const FCreateImageVariationDelegate& Delegate = FCreateImageVariationDelegate()) const;
    FHttpRequestPtr CreateModeration(const CreateModerationRequest& Request, const FCreateModerationDelegate& Delegate = FCreateModerationDelegate()) const;
    FHttpRequestPtr CreateTranscription(const CreateTranscriptionRequest& Request, const FCreateTranscriptionDelegate& Delegate = FCreateTranscriptionDelegate()) const;
    FHttpRequestPtr CreateTranslation(const CreateTranslationRequest& Request, const FCreateTranslationDelegate& Delegate = FCreateTranslationDelegate()) const;
    FHttpRequestPtr DeleteFile(const DeleteFileRequest& Request, const FDeleteFileDelegate& Delegate = FDeleteFileDelegate()) const;
    FHttpRequestPtr DeleteModel(const DeleteModelRequest& Request, const FDeleteModelDelegate& Delegate = FDeleteModelDelegate()) const;
    FHttpRequestPtr DownloadFile(const DownloadFileRequest& Request, const FDownloadFileDelegate& Delegate = FDownloadFileDelegate()) const;
    FHttpRequestPtr ListFiles(const ListFilesRequest& Request, const FListFilesDelegate& Delegate = FListFilesDelegate()) const;
    FHttpRequestPtr ListFineTuneEvents(const ListFineTuneEventsRequest& Request, const FListFineTuneEventsDelegate& Delegate = FListFineTuneEventsDelegate()) const;
    FHttpRequestPtr ListFineTunes(const ListFineTunesRequest& Request, const FListFineTunesDelegate& Delegate = FListFineTunesDelegate()) const;
    FHttpRequestPtr ListModels(const ListModelsRequest& Request, const FListModelsDelegate& Delegate = FListModelsDelegate()) const;
    FHttpRequestPtr RetrieveFile(const RetrieveFileRequest& Request, const FRetrieveFileDelegate& Delegate = FRetrieveFileDelegate()) const;
    FHttpRequestPtr RetrieveFineTune(const RetrieveFineTuneRequest& Request, const FRetrieveFineTuneDelegate& Delegate = FRetrieveFineTuneDelegate()) const;
    FHttpRequestPtr RetrieveModel(const RetrieveModelRequest& Request, const FRetrieveModelDelegate& Delegate = FRetrieveModelDelegate()) const;
    
private:
    void OnCancelFineTuneResponse(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FCancelFineTuneDelegate Delegate) const;
    void OnCreateChatCompletionResponse(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FCreateChatCompletionDelegate Delegate) const;
    void OnCreateCompletionResponse(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FCreateCompletionDelegate Delegate) const;
    void OnCreateEditResponse(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FCreateEditDelegate Delegate) const;
    void OnCreateEmbeddingResponse(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FCreateEmbeddingDelegate Delegate) const;
    void OnCreateFileResponse(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FCreateFileDelegate Delegate) const;
    void OnCreateFineTuneResponse(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FCreateFineTuneDelegate Delegate) const;
    void OnCreateImageResponse(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FCreateImageDelegate Delegate) const;
    void OnCreateImageEditResponse(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FCreateImageEditDelegate Delegate) const;
    void OnCreateImageVariationResponse(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FCreateImageVariationDelegate Delegate) const;
    void OnCreateModerationResponse(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FCreateModerationDelegate Delegate) const;
    void OnCreateTranscriptionResponse(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FCreateTranscriptionDelegate Delegate) const;
    void OnCreateTranslationResponse(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FCreateTranslationDelegate Delegate) const;
    void OnDeleteFileResponse(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FDeleteFileDelegate Delegate) const;
    void OnDeleteModelResponse(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FDeleteModelDelegate Delegate) const;
    void OnDownloadFileResponse(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FDownloadFileDelegate Delegate) const;
    void OnListFilesResponse(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FListFilesDelegate Delegate) const;
    void OnListFineTuneEventsResponse(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FListFineTuneEventsDelegate Delegate) const;
    void OnListFineTunesResponse(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FListFineTunesDelegate Delegate) const;
    void OnListModelsResponse(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FListModelsDelegate Delegate) const;
    void OnRetrieveFileResponse(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FRetrieveFileDelegate Delegate) const;
    void OnRetrieveFineTuneResponse(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FRetrieveFineTuneDelegate Delegate) const;
    void OnRetrieveModelResponse(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded, FRetrieveModelDelegate Delegate) const;
    
	FHttpRequestRef CreateHttpRequest(const Request& Request) const;
	bool IsValid() const;
	void HandleResponse(FHttpResponsePtr HttpResponse, bool bSucceeded, Response& InOutResponse) const;

	FString Url;
	TMap<FString,FString> AdditionalHeaderParams;
	mutable FHttpRetrySystem::FManager* RetryManager = nullptr;
	mutable TUniquePtr<HttpRetryManager> DefaultRetryManager;
};

}
