# #OpenAI API
#
##The OpenAI REST API. Please see https://platform.openai.com/docs/api-reference for more details.
#
#The version of the OpenAPI document: 2.0.0
#Contact: blah+oapicf@cliffano.com
#Generated by: https://openapi-generator.tech
#Generator version: 7.18.0
#

require "uri"

module OpenAPIClient
  class FineTuningApi
    property api_client : ApiClient

    def initialize(api_client = ApiClient.default)
      @api_client = api_client
    end
    # Immediately cancel a fine-tune job. 
    # @param fine_tuning_job_id [String] The ID of the fine-tuning job to cancel. 
    # @return [FineTuningJob]
    def cancel_fine_tuning_job(fine_tuning_job_id : String)
      data, _status_code, _headers = cancel_fine_tuning_job_with_http_info(fine_tuning_job_id)
      data
    end

    # Immediately cancel a fine-tune job. 
    # @param fine_tuning_job_id [String] The ID of the fine-tuning job to cancel. 
    # @return [Array<(FineTuningJob, Integer, Hash)>] FineTuningJob data, response status code and response headers
    def cancel_fine_tuning_job_with_http_info(fine_tuning_job_id : String)
      if @api_client.config.debugging
        Log.debug {"Calling API: FineTuningApi.cancel_fine_tuning_job ..."}
      end
      # verify the required parameter "fine_tuning_job_id" is set
      if @api_client.config.client_side_validation && fine_tuning_job_id.nil?
        raise ArgumentError.new("Missing the required parameter 'fine_tuning_job_id' when calling FineTuningApi.cancel_fine_tuning_job")
      end
      # resource path
      local_var_path = "/fine_tuning/jobs/{fine_tuning_job_id}/cancel".sub("{" + "fine_tuning_job_id" + "}", URI.encode_path(fine_tuning_job_id.to_s))

      # cookie parameters
      cookie_params = Hash(String, String).new

      # query parameters
      query_params = Hash(String, String | Array(String)).new

      # header parameters
      header_params = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])

      # form parameters
      form_params = Hash(Symbol, (String | ::File)).new

      # http body (model)
      post_body = nil

      # return_type
      return_type = "FineTuningJob"

      # auth_names
      auth_names = ["ApiKeyAuth"]

      data, status_code, headers = @api_client.call_api(:POST,
                                                        local_var_path,
                                                        :"FineTuningApi.cancel_fine_tuning_job",
                                                        return_type,
                                                        post_body,
                                                        auth_names,
                                                        header_params,
                                                        query_params,
                                                        cookie_params,
                                                        form_params)
      if @api_client.config.debugging
        Log.debug {"API called: FineTuningApi#cancel_fine_tuning_job\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"}
      end
      return FineTuningJob.from_json(data), status_code, headers
    end

    # Creates a fine-tuning job which begins the process of creating a new model from a given dataset.  Response includes details of the enqueued job including job status and the name of the fine-tuned models once complete.  [Learn more about fine-tuning](/docs/guides/fine-tuning) 
    # @param create_fine_tuning_job_request [CreateFineTuningJobRequest] 
    # @return [FineTuningJob]
    def create_fine_tuning_job(create_fine_tuning_job_request : CreateFineTuningJobRequest)
      data, _status_code, _headers = create_fine_tuning_job_with_http_info(create_fine_tuning_job_request)
      data
    end

    # Creates a fine-tuning job which begins the process of creating a new model from a given dataset.  Response includes details of the enqueued job including job status and the name of the fine-tuned models once complete.  [Learn more about fine-tuning](/docs/guides/fine-tuning) 
    # @param create_fine_tuning_job_request [CreateFineTuningJobRequest] 
    # @return [Array<(FineTuningJob, Integer, Hash)>] FineTuningJob data, response status code and response headers
    def create_fine_tuning_job_with_http_info(create_fine_tuning_job_request : CreateFineTuningJobRequest)
      if @api_client.config.debugging
        Log.debug {"Calling API: FineTuningApi.create_fine_tuning_job ..."}
      end
      # verify the required parameter "create_fine_tuning_job_request" is set
      if @api_client.config.client_side_validation && create_fine_tuning_job_request.nil?
        raise ArgumentError.new("Missing the required parameter 'create_fine_tuning_job_request' when calling FineTuningApi.create_fine_tuning_job")
      end
      # resource path
      local_var_path = "/fine_tuning/jobs"

      # cookie parameters
      cookie_params = Hash(String, String).new

      # query parameters
      query_params = Hash(String, String | Array(String)).new

      # header parameters
      header_params = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])
      # HTTP header "Content-Type"
      header_params["Content-Type"] = @api_client.select_header_content_type(["application/json"])

      # form parameters
      form_params = Hash(Symbol, (String | ::File)).new

      # http body (model)
      post_body = create_fine_tuning_job_request.to_json

      # return_type
      return_type = "FineTuningJob"

      # auth_names
      auth_names = ["ApiKeyAuth"]

      data, status_code, headers = @api_client.call_api(:POST,
                                                        local_var_path,
                                                        :"FineTuningApi.create_fine_tuning_job",
                                                        return_type,
                                                        post_body,
                                                        auth_names,
                                                        header_params,
                                                        query_params,
                                                        cookie_params,
                                                        form_params)
      if @api_client.config.debugging
        Log.debug {"API called: FineTuningApi#create_fine_tuning_job\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"}
      end
      return FineTuningJob.from_json(data), status_code, headers
    end

    # Get status updates for a fine-tuning job. 
    # @param fine_tuning_job_id [String] The ID of the fine-tuning job to get events for. 
    # @return [ListFineTuningJobEventsResponse]
    def list_fine_tuning_events(fine_tuning_job_id : String, after : String? = nil, limit : Int32? = nil)
      data, _status_code, _headers = list_fine_tuning_events_with_http_info(fine_tuning_job_id, after, limit)
      data
    end

    # Get status updates for a fine-tuning job. 
    # @param fine_tuning_job_id [String] The ID of the fine-tuning job to get events for. 
    # @return [Array<(ListFineTuningJobEventsResponse, Integer, Hash)>] ListFineTuningJobEventsResponse data, response status code and response headers
    def list_fine_tuning_events_with_http_info(fine_tuning_job_id : String, after : String? = nil, limit : Int32? = nil)
      if @api_client.config.debugging
        Log.debug {"Calling API: FineTuningApi.list_fine_tuning_events ..."}
      end
      # verify the required parameter "fine_tuning_job_id" is set
      if @api_client.config.client_side_validation && fine_tuning_job_id.nil?
        raise ArgumentError.new("Missing the required parameter 'fine_tuning_job_id' when calling FineTuningApi.list_fine_tuning_events")
      end
      # resource path
      local_var_path = "/fine_tuning/jobs/{fine_tuning_job_id}/events".sub("{" + "fine_tuning_job_id" + "}", URI.encode_path(fine_tuning_job_id.to_s))

      # cookie parameters
      cookie_params = Hash(String, String).new

      # query parameters
      query_params = Hash(String, String | Array(String)).new
      query_params["after"] = after.to_s unless after.nil?
      query_params["limit"] = limit.to_s unless limit.nil?

      # header parameters
      header_params = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])

      # form parameters
      form_params = Hash(Symbol, (String | ::File)).new

      # http body (model)
      post_body = nil

      # return_type
      return_type = "ListFineTuningJobEventsResponse"

      # auth_names
      auth_names = ["ApiKeyAuth"]

      data, status_code, headers = @api_client.call_api(:GET,
                                                        local_var_path,
                                                        :"FineTuningApi.list_fine_tuning_events",
                                                        return_type,
                                                        post_body,
                                                        auth_names,
                                                        header_params,
                                                        query_params,
                                                        cookie_params,
                                                        form_params)
      if @api_client.config.debugging
        Log.debug {"API called: FineTuningApi#list_fine_tuning_events\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"}
      end
      return ListFineTuningJobEventsResponse.from_json(data), status_code, headers
    end

    # List checkpoints for a fine-tuning job. 
    # @param fine_tuning_job_id [String] The ID of the fine-tuning job to get checkpoints for. 
    # @return [ListFineTuningJobCheckpointsResponse]
    def list_fine_tuning_job_checkpoints(fine_tuning_job_id : String, after : String? = nil, limit : Int32? = nil)
      data, _status_code, _headers = list_fine_tuning_job_checkpoints_with_http_info(fine_tuning_job_id, after, limit)
      data
    end

    # List checkpoints for a fine-tuning job. 
    # @param fine_tuning_job_id [String] The ID of the fine-tuning job to get checkpoints for. 
    # @return [Array<(ListFineTuningJobCheckpointsResponse, Integer, Hash)>] ListFineTuningJobCheckpointsResponse data, response status code and response headers
    def list_fine_tuning_job_checkpoints_with_http_info(fine_tuning_job_id : String, after : String? = nil, limit : Int32? = nil)
      if @api_client.config.debugging
        Log.debug {"Calling API: FineTuningApi.list_fine_tuning_job_checkpoints ..."}
      end
      # verify the required parameter "fine_tuning_job_id" is set
      if @api_client.config.client_side_validation && fine_tuning_job_id.nil?
        raise ArgumentError.new("Missing the required parameter 'fine_tuning_job_id' when calling FineTuningApi.list_fine_tuning_job_checkpoints")
      end
      # resource path
      local_var_path = "/fine_tuning/jobs/{fine_tuning_job_id}/checkpoints".sub("{" + "fine_tuning_job_id" + "}", URI.encode_path(fine_tuning_job_id.to_s))

      # cookie parameters
      cookie_params = Hash(String, String).new

      # query parameters
      query_params = Hash(String, String | Array(String)).new
      query_params["after"] = after.to_s unless after.nil?
      query_params["limit"] = limit.to_s unless limit.nil?

      # header parameters
      header_params = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])

      # form parameters
      form_params = Hash(Symbol, (String | ::File)).new

      # http body (model)
      post_body = nil

      # return_type
      return_type = "ListFineTuningJobCheckpointsResponse"

      # auth_names
      auth_names = ["ApiKeyAuth"]

      data, status_code, headers = @api_client.call_api(:GET,
                                                        local_var_path,
                                                        :"FineTuningApi.list_fine_tuning_job_checkpoints",
                                                        return_type,
                                                        post_body,
                                                        auth_names,
                                                        header_params,
                                                        query_params,
                                                        cookie_params,
                                                        form_params)
      if @api_client.config.debugging
        Log.debug {"API called: FineTuningApi#list_fine_tuning_job_checkpoints\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"}
      end
      return ListFineTuningJobCheckpointsResponse.from_json(data), status_code, headers
    end

    # List your organization's fine-tuning jobs 
    # @return [ListPaginatedFineTuningJobsResponse]
    def list_paginated_fine_tuning_jobs(after : String? = nil, limit : Int32? = nil)
      data, _status_code, _headers = list_paginated_fine_tuning_jobs_with_http_info(after, limit)
      data
    end

    # List your organization&#39;s fine-tuning jobs 
    # @return [Array<(ListPaginatedFineTuningJobsResponse, Integer, Hash)>] ListPaginatedFineTuningJobsResponse data, response status code and response headers
    def list_paginated_fine_tuning_jobs_with_http_info(after : String? = nil, limit : Int32? = nil)
      if @api_client.config.debugging
        Log.debug {"Calling API: FineTuningApi.list_paginated_fine_tuning_jobs ..."}
      end
      # resource path
      local_var_path = "/fine_tuning/jobs"

      # cookie parameters
      cookie_params = Hash(String, String).new

      # query parameters
      query_params = Hash(String, String | Array(String)).new
      query_params["after"] = after.to_s unless after.nil?
      query_params["limit"] = limit.to_s unless limit.nil?

      # header parameters
      header_params = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])

      # form parameters
      form_params = Hash(Symbol, (String | ::File)).new

      # http body (model)
      post_body = nil

      # return_type
      return_type = "ListPaginatedFineTuningJobsResponse"

      # auth_names
      auth_names = ["ApiKeyAuth"]

      data, status_code, headers = @api_client.call_api(:GET,
                                                        local_var_path,
                                                        :"FineTuningApi.list_paginated_fine_tuning_jobs",
                                                        return_type,
                                                        post_body,
                                                        auth_names,
                                                        header_params,
                                                        query_params,
                                                        cookie_params,
                                                        form_params)
      if @api_client.config.debugging
        Log.debug {"API called: FineTuningApi#list_paginated_fine_tuning_jobs\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"}
      end
      return ListPaginatedFineTuningJobsResponse.from_json(data), status_code, headers
    end

    # Get info about a fine-tuning job.  [Learn more about fine-tuning](/docs/guides/fine-tuning) 
    # @param fine_tuning_job_id [String] The ID of the fine-tuning job. 
    # @return [FineTuningJob]
    def retrieve_fine_tuning_job(fine_tuning_job_id : String)
      data, _status_code, _headers = retrieve_fine_tuning_job_with_http_info(fine_tuning_job_id)
      data
    end

    # Get info about a fine-tuning job.  [Learn more about fine-tuning](/docs/guides/fine-tuning) 
    # @param fine_tuning_job_id [String] The ID of the fine-tuning job. 
    # @return [Array<(FineTuningJob, Integer, Hash)>] FineTuningJob data, response status code and response headers
    def retrieve_fine_tuning_job_with_http_info(fine_tuning_job_id : String)
      if @api_client.config.debugging
        Log.debug {"Calling API: FineTuningApi.retrieve_fine_tuning_job ..."}
      end
      # verify the required parameter "fine_tuning_job_id" is set
      if @api_client.config.client_side_validation && fine_tuning_job_id.nil?
        raise ArgumentError.new("Missing the required parameter 'fine_tuning_job_id' when calling FineTuningApi.retrieve_fine_tuning_job")
      end
      # resource path
      local_var_path = "/fine_tuning/jobs/{fine_tuning_job_id}".sub("{" + "fine_tuning_job_id" + "}", URI.encode_path(fine_tuning_job_id.to_s))

      # cookie parameters
      cookie_params = Hash(String, String).new

      # query parameters
      query_params = Hash(String, String | Array(String)).new

      # header parameters
      header_params = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])

      # form parameters
      form_params = Hash(Symbol, (String | ::File)).new

      # http body (model)
      post_body = nil

      # return_type
      return_type = "FineTuningJob"

      # auth_names
      auth_names = ["ApiKeyAuth"]

      data, status_code, headers = @api_client.call_api(:GET,
                                                        local_var_path,
                                                        :"FineTuningApi.retrieve_fine_tuning_job",
                                                        return_type,
                                                        post_body,
                                                        auth_names,
                                                        header_params,
                                                        query_params,
                                                        cookie_params,
                                                        form_params)
      if @api_client.config.debugging
        Log.debug {"API called: FineTuningApi#retrieve_fine_tuning_job\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"}
      end
      return FineTuningJob.from_json(data), status_code, headers
    end
  end
end
