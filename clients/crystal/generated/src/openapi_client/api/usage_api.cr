# #OpenAI API
#
##The OpenAI REST API. Please see https://platform.openai.com/docs/api-reference for more details.
#
#The version of the OpenAPI document: 2.3.0
#Contact: blah+oapicf@cliffano.com
#Generated by: https://openapi-generator.tech
#Generator version: 7.18.0
#

require "uri"

module OpenAPIClient
  class UsageApi
    property api_client : ApiClient

    def initialize(api_client = ApiClient.default)
      @api_client = api_client
    end
    # Get audio speeches usage details for the organization.
    # @param start_time [Int32] Start time (Unix seconds) of the query time range, inclusive.
    # @return [UsageResponse]
    def usage_audio_speeches(start_time : Int32, end_time : Int32? = nil, bucket_width : String? = nil, project_ids : Array(String)? = nil, user_ids : Array(String)? = nil, api_key_ids : Array(String)? = nil, models : Array(String)? = nil, group_by : Array(String)? = nil, limit : Int32? = nil, page : String? = nil)
      data, _status_code, _headers = usage_audio_speeches_with_http_info(start_time, end_time, bucket_width, project_ids, user_ids, api_key_ids, models, group_by, limit, page)
      data
    end

    # Get audio speeches usage details for the organization.
    # @param start_time [Int32] Start time (Unix seconds) of the query time range, inclusive.
    # @return [Array<(UsageResponse, Integer, Hash)>] UsageResponse data, response status code and response headers
    def usage_audio_speeches_with_http_info(start_time : Int32, end_time : Int32? = nil, bucket_width : String? = nil, project_ids : Array(String)? = nil, user_ids : Array(String)? = nil, api_key_ids : Array(String)? = nil, models : Array(String)? = nil, group_by : Array(String)? = nil, limit : Int32? = nil, page : String? = nil)
      if @api_client.config.debugging
        Log.debug {"Calling API: UsageApi.usage_audio_speeches ..."}
      end
      # verify the required parameter "start_time" is set
      if @api_client.config.client_side_validation && start_time.nil?
        raise ArgumentError.new("Missing the required parameter 'start_time' when calling UsageApi.usage_audio_speeches")
      end
      allowable_values = ["1m", "1h", "1d"]
      if @api_client.config.client_side_validation && bucket_width && !allowable_values.includes?(bucket_width)
        raise ArgumentError.new("invalid value for \"bucket_width\", must be one of #{allowable_values}")
      end
      allowable_values = ["project_id", "user_id", "api_key_id", "model"]
      if @api_client.config.client_side_validation && group_by && group_by.all? { |item| allowable_values.includes?(item) }
        raise ArgumentError.new("invalid value for \"group_by\", must include one of #{allowable_values}")
      end
      # resource path
      local_var_path = "/organization/usage/audio_speeches"

      # cookie parameters
      cookie_params = Hash(String, String).new

      # query parameters
      query_params = Hash(String, String | Array(String)).new
      query_params["start_time"] = start_time.to_s unless start_time.nil?
      query_params["end_time"] = end_time.to_s unless end_time.nil?
      query_params["bucket_width"] = bucket_width.to_s unless bucket_width.nil?
      query_params["project_ids"] = @api_client.build_collection_param(project_ids, :multi) unless project_ids.nil?
      query_params["user_ids"] = @api_client.build_collection_param(user_ids, :multi) unless user_ids.nil?
      query_params["api_key_ids"] = @api_client.build_collection_param(api_key_ids, :multi) unless api_key_ids.nil?
      query_params["models"] = @api_client.build_collection_param(models, :multi) unless models.nil?
      query_params["group_by"] = @api_client.build_collection_param(group_by, :multi) unless group_by.nil?
      query_params["limit"] = limit.to_s unless limit.nil?
      query_params["page"] = page.to_s unless page.nil?

      # header parameters
      header_params = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])

      # form parameters
      form_params = Hash(Symbol, (String | ::File)).new

      # http body (model)
      post_body = nil

      # return_type
      return_type = "UsageResponse"

      # auth_names
      auth_names = ["ApiKeyAuth"]

      data, status_code, headers = @api_client.call_api(:GET,
                                                        local_var_path,
                                                        :"UsageApi.usage_audio_speeches",
                                                        return_type,
                                                        post_body,
                                                        auth_names,
                                                        header_params,
                                                        query_params,
                                                        cookie_params,
                                                        form_params)
      if @api_client.config.debugging
        Log.debug {"API called: UsageApi#usage_audio_speeches\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"}
      end
      return UsageResponse.from_json(data), status_code, headers
    end

    # Get audio transcriptions usage details for the organization.
    # @param start_time [Int32] Start time (Unix seconds) of the query time range, inclusive.
    # @return [UsageResponse]
    def usage_audio_transcriptions(start_time : Int32, end_time : Int32? = nil, bucket_width : String? = nil, project_ids : Array(String)? = nil, user_ids : Array(String)? = nil, api_key_ids : Array(String)? = nil, models : Array(String)? = nil, group_by : Array(String)? = nil, limit : Int32? = nil, page : String? = nil)
      data, _status_code, _headers = usage_audio_transcriptions_with_http_info(start_time, end_time, bucket_width, project_ids, user_ids, api_key_ids, models, group_by, limit, page)
      data
    end

    # Get audio transcriptions usage details for the organization.
    # @param start_time [Int32] Start time (Unix seconds) of the query time range, inclusive.
    # @return [Array<(UsageResponse, Integer, Hash)>] UsageResponse data, response status code and response headers
    def usage_audio_transcriptions_with_http_info(start_time : Int32, end_time : Int32? = nil, bucket_width : String? = nil, project_ids : Array(String)? = nil, user_ids : Array(String)? = nil, api_key_ids : Array(String)? = nil, models : Array(String)? = nil, group_by : Array(String)? = nil, limit : Int32? = nil, page : String? = nil)
      if @api_client.config.debugging
        Log.debug {"Calling API: UsageApi.usage_audio_transcriptions ..."}
      end
      # verify the required parameter "start_time" is set
      if @api_client.config.client_side_validation && start_time.nil?
        raise ArgumentError.new("Missing the required parameter 'start_time' when calling UsageApi.usage_audio_transcriptions")
      end
      allowable_values = ["1m", "1h", "1d"]
      if @api_client.config.client_side_validation && bucket_width && !allowable_values.includes?(bucket_width)
        raise ArgumentError.new("invalid value for \"bucket_width\", must be one of #{allowable_values}")
      end
      allowable_values = ["project_id", "user_id", "api_key_id", "model"]
      if @api_client.config.client_side_validation && group_by && group_by.all? { |item| allowable_values.includes?(item) }
        raise ArgumentError.new("invalid value for \"group_by\", must include one of #{allowable_values}")
      end
      # resource path
      local_var_path = "/organization/usage/audio_transcriptions"

      # cookie parameters
      cookie_params = Hash(String, String).new

      # query parameters
      query_params = Hash(String, String | Array(String)).new
      query_params["start_time"] = start_time.to_s unless start_time.nil?
      query_params["end_time"] = end_time.to_s unless end_time.nil?
      query_params["bucket_width"] = bucket_width.to_s unless bucket_width.nil?
      query_params["project_ids"] = @api_client.build_collection_param(project_ids, :multi) unless project_ids.nil?
      query_params["user_ids"] = @api_client.build_collection_param(user_ids, :multi) unless user_ids.nil?
      query_params["api_key_ids"] = @api_client.build_collection_param(api_key_ids, :multi) unless api_key_ids.nil?
      query_params["models"] = @api_client.build_collection_param(models, :multi) unless models.nil?
      query_params["group_by"] = @api_client.build_collection_param(group_by, :multi) unless group_by.nil?
      query_params["limit"] = limit.to_s unless limit.nil?
      query_params["page"] = page.to_s unless page.nil?

      # header parameters
      header_params = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])

      # form parameters
      form_params = Hash(Symbol, (String | ::File)).new

      # http body (model)
      post_body = nil

      # return_type
      return_type = "UsageResponse"

      # auth_names
      auth_names = ["ApiKeyAuth"]

      data, status_code, headers = @api_client.call_api(:GET,
                                                        local_var_path,
                                                        :"UsageApi.usage_audio_transcriptions",
                                                        return_type,
                                                        post_body,
                                                        auth_names,
                                                        header_params,
                                                        query_params,
                                                        cookie_params,
                                                        form_params)
      if @api_client.config.debugging
        Log.debug {"API called: UsageApi#usage_audio_transcriptions\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"}
      end
      return UsageResponse.from_json(data), status_code, headers
    end

    # Get code interpreter sessions usage details for the organization.
    # @param start_time [Int32] Start time (Unix seconds) of the query time range, inclusive.
    # @return [UsageResponse]
    def usage_code_interpreter_sessions(start_time : Int32, end_time : Int32? = nil, bucket_width : String? = nil, project_ids : Array(String)? = nil, group_by : Array(String)? = nil, limit : Int32? = nil, page : String? = nil)
      data, _status_code, _headers = usage_code_interpreter_sessions_with_http_info(start_time, end_time, bucket_width, project_ids, group_by, limit, page)
      data
    end

    # Get code interpreter sessions usage details for the organization.
    # @param start_time [Int32] Start time (Unix seconds) of the query time range, inclusive.
    # @return [Array<(UsageResponse, Integer, Hash)>] UsageResponse data, response status code and response headers
    def usage_code_interpreter_sessions_with_http_info(start_time : Int32, end_time : Int32? = nil, bucket_width : String? = nil, project_ids : Array(String)? = nil, group_by : Array(String)? = nil, limit : Int32? = nil, page : String? = nil)
      if @api_client.config.debugging
        Log.debug {"Calling API: UsageApi.usage_code_interpreter_sessions ..."}
      end
      # verify the required parameter "start_time" is set
      if @api_client.config.client_side_validation && start_time.nil?
        raise ArgumentError.new("Missing the required parameter 'start_time' when calling UsageApi.usage_code_interpreter_sessions")
      end
      allowable_values = ["1m", "1h", "1d"]
      if @api_client.config.client_side_validation && bucket_width && !allowable_values.includes?(bucket_width)
        raise ArgumentError.new("invalid value for \"bucket_width\", must be one of #{allowable_values}")
      end
      allowable_values = ["project_id"]
      if @api_client.config.client_side_validation && group_by && group_by.all? { |item| allowable_values.includes?(item) }
        raise ArgumentError.new("invalid value for \"group_by\", must include one of #{allowable_values}")
      end
      # resource path
      local_var_path = "/organization/usage/code_interpreter_sessions"

      # cookie parameters
      cookie_params = Hash(String, String).new

      # query parameters
      query_params = Hash(String, String | Array(String)).new
      query_params["start_time"] = start_time.to_s unless start_time.nil?
      query_params["end_time"] = end_time.to_s unless end_time.nil?
      query_params["bucket_width"] = bucket_width.to_s unless bucket_width.nil?
      query_params["project_ids"] = @api_client.build_collection_param(project_ids, :multi) unless project_ids.nil?
      query_params["group_by"] = @api_client.build_collection_param(group_by, :multi) unless group_by.nil?
      query_params["limit"] = limit.to_s unless limit.nil?
      query_params["page"] = page.to_s unless page.nil?

      # header parameters
      header_params = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])

      # form parameters
      form_params = Hash(Symbol, (String | ::File)).new

      # http body (model)
      post_body = nil

      # return_type
      return_type = "UsageResponse"

      # auth_names
      auth_names = ["ApiKeyAuth"]

      data, status_code, headers = @api_client.call_api(:GET,
                                                        local_var_path,
                                                        :"UsageApi.usage_code_interpreter_sessions",
                                                        return_type,
                                                        post_body,
                                                        auth_names,
                                                        header_params,
                                                        query_params,
                                                        cookie_params,
                                                        form_params)
      if @api_client.config.debugging
        Log.debug {"API called: UsageApi#usage_code_interpreter_sessions\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"}
      end
      return UsageResponse.from_json(data), status_code, headers
    end

    # Get completions usage details for the organization.
    # @param start_time [Int32] Start time (Unix seconds) of the query time range, inclusive.
    # @return [UsageResponse]
    def usage_completions(start_time : Int32, end_time : Int32? = nil, bucket_width : String? = nil, project_ids : Array(String)? = nil, user_ids : Array(String)? = nil, api_key_ids : Array(String)? = nil, models : Array(String)? = nil, batch : Bool? = nil, group_by : Array(String)? = nil, limit : Int32? = nil, page : String? = nil)
      data, _status_code, _headers = usage_completions_with_http_info(start_time, end_time, bucket_width, project_ids, user_ids, api_key_ids, models, batch, group_by, limit, page)
      data
    end

    # Get completions usage details for the organization.
    # @param start_time [Int32] Start time (Unix seconds) of the query time range, inclusive.
    # @return [Array<(UsageResponse, Integer, Hash)>] UsageResponse data, response status code and response headers
    def usage_completions_with_http_info(start_time : Int32, end_time : Int32? = nil, bucket_width : String? = nil, project_ids : Array(String)? = nil, user_ids : Array(String)? = nil, api_key_ids : Array(String)? = nil, models : Array(String)? = nil, batch : Bool? = nil, group_by : Array(String)? = nil, limit : Int32? = nil, page : String? = nil)
      if @api_client.config.debugging
        Log.debug {"Calling API: UsageApi.usage_completions ..."}
      end
      # verify the required parameter "start_time" is set
      if @api_client.config.client_side_validation && start_time.nil?
        raise ArgumentError.new("Missing the required parameter 'start_time' when calling UsageApi.usage_completions")
      end
      allowable_values = ["1m", "1h", "1d"]
      if @api_client.config.client_side_validation && bucket_width && !allowable_values.includes?(bucket_width)
        raise ArgumentError.new("invalid value for \"bucket_width\", must be one of #{allowable_values}")
      end
      allowable_values = ["project_id", "user_id", "api_key_id", "model", "batch"]
      if @api_client.config.client_side_validation && group_by && group_by.all? { |item| allowable_values.includes?(item) }
        raise ArgumentError.new("invalid value for \"group_by\", must include one of #{allowable_values}")
      end
      # resource path
      local_var_path = "/organization/usage/completions"

      # cookie parameters
      cookie_params = Hash(String, String).new

      # query parameters
      query_params = Hash(String, String | Array(String)).new
      query_params["start_time"] = start_time.to_s unless start_time.nil?
      query_params["end_time"] = end_time.to_s unless end_time.nil?
      query_params["bucket_width"] = bucket_width.to_s unless bucket_width.nil?
      query_params["project_ids"] = @api_client.build_collection_param(project_ids, :multi) unless project_ids.nil?
      query_params["user_ids"] = @api_client.build_collection_param(user_ids, :multi) unless user_ids.nil?
      query_params["api_key_ids"] = @api_client.build_collection_param(api_key_ids, :multi) unless api_key_ids.nil?
      query_params["models"] = @api_client.build_collection_param(models, :multi) unless models.nil?
      query_params["batch"] = batch.to_s unless batch.nil?
      query_params["group_by"] = @api_client.build_collection_param(group_by, :multi) unless group_by.nil?
      query_params["limit"] = limit.to_s unless limit.nil?
      query_params["page"] = page.to_s unless page.nil?

      # header parameters
      header_params = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])

      # form parameters
      form_params = Hash(Symbol, (String | ::File)).new

      # http body (model)
      post_body = nil

      # return_type
      return_type = "UsageResponse"

      # auth_names
      auth_names = ["ApiKeyAuth"]

      data, status_code, headers = @api_client.call_api(:GET,
                                                        local_var_path,
                                                        :"UsageApi.usage_completions",
                                                        return_type,
                                                        post_body,
                                                        auth_names,
                                                        header_params,
                                                        query_params,
                                                        cookie_params,
                                                        form_params)
      if @api_client.config.debugging
        Log.debug {"API called: UsageApi#usage_completions\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"}
      end
      return UsageResponse.from_json(data), status_code, headers
    end

    # Get costs details for the organization.
    # @param start_time [Int32] Start time (Unix seconds) of the query time range, inclusive.
    # @return [UsageResponse]
    def usage_costs(start_time : Int32, end_time : Int32? = nil, bucket_width : String? = nil, project_ids : Array(String)? = nil, group_by : Array(String)? = nil, limit : Int32? = nil, page : String? = nil)
      data, _status_code, _headers = usage_costs_with_http_info(start_time, end_time, bucket_width, project_ids, group_by, limit, page)
      data
    end

    # Get costs details for the organization.
    # @param start_time [Int32] Start time (Unix seconds) of the query time range, inclusive.
    # @return [Array<(UsageResponse, Integer, Hash)>] UsageResponse data, response status code and response headers
    def usage_costs_with_http_info(start_time : Int32, end_time : Int32? = nil, bucket_width : String? = nil, project_ids : Array(String)? = nil, group_by : Array(String)? = nil, limit : Int32? = nil, page : String? = nil)
      if @api_client.config.debugging
        Log.debug {"Calling API: UsageApi.usage_costs ..."}
      end
      # verify the required parameter "start_time" is set
      if @api_client.config.client_side_validation && start_time.nil?
        raise ArgumentError.new("Missing the required parameter 'start_time' when calling UsageApi.usage_costs")
      end
      allowable_values = ["1d"]
      if @api_client.config.client_side_validation && bucket_width && !allowable_values.includes?(bucket_width)
        raise ArgumentError.new("invalid value for \"bucket_width\", must be one of #{allowable_values}")
      end
      allowable_values = ["project_id", "line_item"]
      if @api_client.config.client_side_validation && group_by && group_by.all? { |item| allowable_values.includes?(item) }
        raise ArgumentError.new("invalid value for \"group_by\", must include one of #{allowable_values}")
      end
      # resource path
      local_var_path = "/organization/costs"

      # cookie parameters
      cookie_params = Hash(String, String).new

      # query parameters
      query_params = Hash(String, String | Array(String)).new
      query_params["start_time"] = start_time.to_s unless start_time.nil?
      query_params["end_time"] = end_time.to_s unless end_time.nil?
      query_params["bucket_width"] = bucket_width.to_s unless bucket_width.nil?
      query_params["project_ids"] = @api_client.build_collection_param(project_ids, :multi) unless project_ids.nil?
      query_params["group_by"] = @api_client.build_collection_param(group_by, :multi) unless group_by.nil?
      query_params["limit"] = limit.to_s unless limit.nil?
      query_params["page"] = page.to_s unless page.nil?

      # header parameters
      header_params = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])

      # form parameters
      form_params = Hash(Symbol, (String | ::File)).new

      # http body (model)
      post_body = nil

      # return_type
      return_type = "UsageResponse"

      # auth_names
      auth_names = ["ApiKeyAuth"]

      data, status_code, headers = @api_client.call_api(:GET,
                                                        local_var_path,
                                                        :"UsageApi.usage_costs",
                                                        return_type,
                                                        post_body,
                                                        auth_names,
                                                        header_params,
                                                        query_params,
                                                        cookie_params,
                                                        form_params)
      if @api_client.config.debugging
        Log.debug {"API called: UsageApi#usage_costs\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"}
      end
      return UsageResponse.from_json(data), status_code, headers
    end

    # Get embeddings usage details for the organization.
    # @param start_time [Int32] Start time (Unix seconds) of the query time range, inclusive.
    # @return [UsageResponse]
    def usage_embeddings(start_time : Int32, end_time : Int32? = nil, bucket_width : String? = nil, project_ids : Array(String)? = nil, user_ids : Array(String)? = nil, api_key_ids : Array(String)? = nil, models : Array(String)? = nil, group_by : Array(String)? = nil, limit : Int32? = nil, page : String? = nil)
      data, _status_code, _headers = usage_embeddings_with_http_info(start_time, end_time, bucket_width, project_ids, user_ids, api_key_ids, models, group_by, limit, page)
      data
    end

    # Get embeddings usage details for the organization.
    # @param start_time [Int32] Start time (Unix seconds) of the query time range, inclusive.
    # @return [Array<(UsageResponse, Integer, Hash)>] UsageResponse data, response status code and response headers
    def usage_embeddings_with_http_info(start_time : Int32, end_time : Int32? = nil, bucket_width : String? = nil, project_ids : Array(String)? = nil, user_ids : Array(String)? = nil, api_key_ids : Array(String)? = nil, models : Array(String)? = nil, group_by : Array(String)? = nil, limit : Int32? = nil, page : String? = nil)
      if @api_client.config.debugging
        Log.debug {"Calling API: UsageApi.usage_embeddings ..."}
      end
      # verify the required parameter "start_time" is set
      if @api_client.config.client_side_validation && start_time.nil?
        raise ArgumentError.new("Missing the required parameter 'start_time' when calling UsageApi.usage_embeddings")
      end
      allowable_values = ["1m", "1h", "1d"]
      if @api_client.config.client_side_validation && bucket_width && !allowable_values.includes?(bucket_width)
        raise ArgumentError.new("invalid value for \"bucket_width\", must be one of #{allowable_values}")
      end
      allowable_values = ["project_id", "user_id", "api_key_id", "model"]
      if @api_client.config.client_side_validation && group_by && group_by.all? { |item| allowable_values.includes?(item) }
        raise ArgumentError.new("invalid value for \"group_by\", must include one of #{allowable_values}")
      end
      # resource path
      local_var_path = "/organization/usage/embeddings"

      # cookie parameters
      cookie_params = Hash(String, String).new

      # query parameters
      query_params = Hash(String, String | Array(String)).new
      query_params["start_time"] = start_time.to_s unless start_time.nil?
      query_params["end_time"] = end_time.to_s unless end_time.nil?
      query_params["bucket_width"] = bucket_width.to_s unless bucket_width.nil?
      query_params["project_ids"] = @api_client.build_collection_param(project_ids, :multi) unless project_ids.nil?
      query_params["user_ids"] = @api_client.build_collection_param(user_ids, :multi) unless user_ids.nil?
      query_params["api_key_ids"] = @api_client.build_collection_param(api_key_ids, :multi) unless api_key_ids.nil?
      query_params["models"] = @api_client.build_collection_param(models, :multi) unless models.nil?
      query_params["group_by"] = @api_client.build_collection_param(group_by, :multi) unless group_by.nil?
      query_params["limit"] = limit.to_s unless limit.nil?
      query_params["page"] = page.to_s unless page.nil?

      # header parameters
      header_params = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])

      # form parameters
      form_params = Hash(Symbol, (String | ::File)).new

      # http body (model)
      post_body = nil

      # return_type
      return_type = "UsageResponse"

      # auth_names
      auth_names = ["ApiKeyAuth"]

      data, status_code, headers = @api_client.call_api(:GET,
                                                        local_var_path,
                                                        :"UsageApi.usage_embeddings",
                                                        return_type,
                                                        post_body,
                                                        auth_names,
                                                        header_params,
                                                        query_params,
                                                        cookie_params,
                                                        form_params)
      if @api_client.config.debugging
        Log.debug {"API called: UsageApi#usage_embeddings\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"}
      end
      return UsageResponse.from_json(data), status_code, headers
    end

    # Get images usage details for the organization.
    # @param start_time [Int32] Start time (Unix seconds) of the query time range, inclusive.
    # @return [UsageResponse]
    def usage_images(start_time : Int32, end_time : Int32? = nil, bucket_width : String? = nil, sources : Array(String)? = nil, sizes : Array(String)? = nil, project_ids : Array(String)? = nil, user_ids : Array(String)? = nil, api_key_ids : Array(String)? = nil, models : Array(String)? = nil, group_by : Array(String)? = nil, limit : Int32? = nil, page : String? = nil)
      data, _status_code, _headers = usage_images_with_http_info(start_time, end_time, bucket_width, sources, sizes, project_ids, user_ids, api_key_ids, models, group_by, limit, page)
      data
    end

    # Get images usage details for the organization.
    # @param start_time [Int32] Start time (Unix seconds) of the query time range, inclusive.
    # @return [Array<(UsageResponse, Integer, Hash)>] UsageResponse data, response status code and response headers
    def usage_images_with_http_info(start_time : Int32, end_time : Int32? = nil, bucket_width : String? = nil, sources : Array(String)? = nil, sizes : Array(String)? = nil, project_ids : Array(String)? = nil, user_ids : Array(String)? = nil, api_key_ids : Array(String)? = nil, models : Array(String)? = nil, group_by : Array(String)? = nil, limit : Int32? = nil, page : String? = nil)
      if @api_client.config.debugging
        Log.debug {"Calling API: UsageApi.usage_images ..."}
      end
      # verify the required parameter "start_time" is set
      if @api_client.config.client_side_validation && start_time.nil?
        raise ArgumentError.new("Missing the required parameter 'start_time' when calling UsageApi.usage_images")
      end
      allowable_values = ["1m", "1h", "1d"]
      if @api_client.config.client_side_validation && bucket_width && !allowable_values.includes?(bucket_width)
        raise ArgumentError.new("invalid value for \"bucket_width\", must be one of #{allowable_values}")
      end
      allowable_values = ["image.generation", "image.edit", "image.variation"]
      if @api_client.config.client_side_validation && sources && sources.all? { |item| allowable_values.includes?(item) }
        raise ArgumentError.new("invalid value for \"sources\", must include one of #{allowable_values}")
      end
      allowable_values = ["256x256", "512x512", "1024x1024", "1792x1792", "1024x1792"]
      if @api_client.config.client_side_validation && sizes && sizes.all? { |item| allowable_values.includes?(item) }
        raise ArgumentError.new("invalid value for \"sizes\", must include one of #{allowable_values}")
      end
      allowable_values = ["project_id", "user_id", "api_key_id", "model", "size", "source"]
      if @api_client.config.client_side_validation && group_by && group_by.all? { |item| allowable_values.includes?(item) }
        raise ArgumentError.new("invalid value for \"group_by\", must include one of #{allowable_values}")
      end
      # resource path
      local_var_path = "/organization/usage/images"

      # cookie parameters
      cookie_params = Hash(String, String).new

      # query parameters
      query_params = Hash(String, String | Array(String)).new
      query_params["start_time"] = start_time.to_s unless start_time.nil?
      query_params["end_time"] = end_time.to_s unless end_time.nil?
      query_params["bucket_width"] = bucket_width.to_s unless bucket_width.nil?
      query_params["sources"] = @api_client.build_collection_param(sources, :multi) unless sources.nil?
      query_params["sizes"] = @api_client.build_collection_param(sizes, :multi) unless sizes.nil?
      query_params["project_ids"] = @api_client.build_collection_param(project_ids, :multi) unless project_ids.nil?
      query_params["user_ids"] = @api_client.build_collection_param(user_ids, :multi) unless user_ids.nil?
      query_params["api_key_ids"] = @api_client.build_collection_param(api_key_ids, :multi) unless api_key_ids.nil?
      query_params["models"] = @api_client.build_collection_param(models, :multi) unless models.nil?
      query_params["group_by"] = @api_client.build_collection_param(group_by, :multi) unless group_by.nil?
      query_params["limit"] = limit.to_s unless limit.nil?
      query_params["page"] = page.to_s unless page.nil?

      # header parameters
      header_params = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])

      # form parameters
      form_params = Hash(Symbol, (String | ::File)).new

      # http body (model)
      post_body = nil

      # return_type
      return_type = "UsageResponse"

      # auth_names
      auth_names = ["ApiKeyAuth"]

      data, status_code, headers = @api_client.call_api(:GET,
                                                        local_var_path,
                                                        :"UsageApi.usage_images",
                                                        return_type,
                                                        post_body,
                                                        auth_names,
                                                        header_params,
                                                        query_params,
                                                        cookie_params,
                                                        form_params)
      if @api_client.config.debugging
        Log.debug {"API called: UsageApi#usage_images\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"}
      end
      return UsageResponse.from_json(data), status_code, headers
    end

    # Get moderations usage details for the organization.
    # @param start_time [Int32] Start time (Unix seconds) of the query time range, inclusive.
    # @return [UsageResponse]
    def usage_moderations(start_time : Int32, end_time : Int32? = nil, bucket_width : String? = nil, project_ids : Array(String)? = nil, user_ids : Array(String)? = nil, api_key_ids : Array(String)? = nil, models : Array(String)? = nil, group_by : Array(String)? = nil, limit : Int32? = nil, page : String? = nil)
      data, _status_code, _headers = usage_moderations_with_http_info(start_time, end_time, bucket_width, project_ids, user_ids, api_key_ids, models, group_by, limit, page)
      data
    end

    # Get moderations usage details for the organization.
    # @param start_time [Int32] Start time (Unix seconds) of the query time range, inclusive.
    # @return [Array<(UsageResponse, Integer, Hash)>] UsageResponse data, response status code and response headers
    def usage_moderations_with_http_info(start_time : Int32, end_time : Int32? = nil, bucket_width : String? = nil, project_ids : Array(String)? = nil, user_ids : Array(String)? = nil, api_key_ids : Array(String)? = nil, models : Array(String)? = nil, group_by : Array(String)? = nil, limit : Int32? = nil, page : String? = nil)
      if @api_client.config.debugging
        Log.debug {"Calling API: UsageApi.usage_moderations ..."}
      end
      # verify the required parameter "start_time" is set
      if @api_client.config.client_side_validation && start_time.nil?
        raise ArgumentError.new("Missing the required parameter 'start_time' when calling UsageApi.usage_moderations")
      end
      allowable_values = ["1m", "1h", "1d"]
      if @api_client.config.client_side_validation && bucket_width && !allowable_values.includes?(bucket_width)
        raise ArgumentError.new("invalid value for \"bucket_width\", must be one of #{allowable_values}")
      end
      allowable_values = ["project_id", "user_id", "api_key_id", "model"]
      if @api_client.config.client_side_validation && group_by && group_by.all? { |item| allowable_values.includes?(item) }
        raise ArgumentError.new("invalid value for \"group_by\", must include one of #{allowable_values}")
      end
      # resource path
      local_var_path = "/organization/usage/moderations"

      # cookie parameters
      cookie_params = Hash(String, String).new

      # query parameters
      query_params = Hash(String, String | Array(String)).new
      query_params["start_time"] = start_time.to_s unless start_time.nil?
      query_params["end_time"] = end_time.to_s unless end_time.nil?
      query_params["bucket_width"] = bucket_width.to_s unless bucket_width.nil?
      query_params["project_ids"] = @api_client.build_collection_param(project_ids, :multi) unless project_ids.nil?
      query_params["user_ids"] = @api_client.build_collection_param(user_ids, :multi) unless user_ids.nil?
      query_params["api_key_ids"] = @api_client.build_collection_param(api_key_ids, :multi) unless api_key_ids.nil?
      query_params["models"] = @api_client.build_collection_param(models, :multi) unless models.nil?
      query_params["group_by"] = @api_client.build_collection_param(group_by, :multi) unless group_by.nil?
      query_params["limit"] = limit.to_s unless limit.nil?
      query_params["page"] = page.to_s unless page.nil?

      # header parameters
      header_params = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])

      # form parameters
      form_params = Hash(Symbol, (String | ::File)).new

      # http body (model)
      post_body = nil

      # return_type
      return_type = "UsageResponse"

      # auth_names
      auth_names = ["ApiKeyAuth"]

      data, status_code, headers = @api_client.call_api(:GET,
                                                        local_var_path,
                                                        :"UsageApi.usage_moderations",
                                                        return_type,
                                                        post_body,
                                                        auth_names,
                                                        header_params,
                                                        query_params,
                                                        cookie_params,
                                                        form_params)
      if @api_client.config.debugging
        Log.debug {"API called: UsageApi#usage_moderations\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"}
      end
      return UsageResponse.from_json(data), status_code, headers
    end

    # Get vector stores usage details for the organization.
    # @param start_time [Int32] Start time (Unix seconds) of the query time range, inclusive.
    # @return [UsageResponse]
    def usage_vector_stores(start_time : Int32, end_time : Int32? = nil, bucket_width : String? = nil, project_ids : Array(String)? = nil, group_by : Array(String)? = nil, limit : Int32? = nil, page : String? = nil)
      data, _status_code, _headers = usage_vector_stores_with_http_info(start_time, end_time, bucket_width, project_ids, group_by, limit, page)
      data
    end

    # Get vector stores usage details for the organization.
    # @param start_time [Int32] Start time (Unix seconds) of the query time range, inclusive.
    # @return [Array<(UsageResponse, Integer, Hash)>] UsageResponse data, response status code and response headers
    def usage_vector_stores_with_http_info(start_time : Int32, end_time : Int32? = nil, bucket_width : String? = nil, project_ids : Array(String)? = nil, group_by : Array(String)? = nil, limit : Int32? = nil, page : String? = nil)
      if @api_client.config.debugging
        Log.debug {"Calling API: UsageApi.usage_vector_stores ..."}
      end
      # verify the required parameter "start_time" is set
      if @api_client.config.client_side_validation && start_time.nil?
        raise ArgumentError.new("Missing the required parameter 'start_time' when calling UsageApi.usage_vector_stores")
      end
      allowable_values = ["1m", "1h", "1d"]
      if @api_client.config.client_side_validation && bucket_width && !allowable_values.includes?(bucket_width)
        raise ArgumentError.new("invalid value for \"bucket_width\", must be one of #{allowable_values}")
      end
      allowable_values = ["project_id"]
      if @api_client.config.client_side_validation && group_by && group_by.all? { |item| allowable_values.includes?(item) }
        raise ArgumentError.new("invalid value for \"group_by\", must include one of #{allowable_values}")
      end
      # resource path
      local_var_path = "/organization/usage/vector_stores"

      # cookie parameters
      cookie_params = Hash(String, String).new

      # query parameters
      query_params = Hash(String, String | Array(String)).new
      query_params["start_time"] = start_time.to_s unless start_time.nil?
      query_params["end_time"] = end_time.to_s unless end_time.nil?
      query_params["bucket_width"] = bucket_width.to_s unless bucket_width.nil?
      query_params["project_ids"] = @api_client.build_collection_param(project_ids, :multi) unless project_ids.nil?
      query_params["group_by"] = @api_client.build_collection_param(group_by, :multi) unless group_by.nil?
      query_params["limit"] = limit.to_s unless limit.nil?
      query_params["page"] = page.to_s unless page.nil?

      # header parameters
      header_params = Hash(String, String).new
      # HTTP header "Accept" (if needed)
      header_params["Accept"] = @api_client.select_header_accept(["application/json"])

      # form parameters
      form_params = Hash(Symbol, (String | ::File)).new

      # http body (model)
      post_body = nil

      # return_type
      return_type = "UsageResponse"

      # auth_names
      auth_names = ["ApiKeyAuth"]

      data, status_code, headers = @api_client.call_api(:GET,
                                                        local_var_path,
                                                        :"UsageApi.usage_vector_stores",
                                                        return_type,
                                                        post_body,
                                                        auth_names,
                                                        header_params,
                                                        query_params,
                                                        cookie_params,
                                                        form_params)
      if @api_client.config.debugging
        Log.debug {"API called: UsageApi#usage_vector_stores\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"}
      end
      return UsageResponse.from_json(data), status_code, headers
    end
  end
end
