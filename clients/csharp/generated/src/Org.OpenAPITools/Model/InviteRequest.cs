// <auto-generated>
/*
 * OpenAI API
 *
 * The OpenAI REST API. Please see https://platform.openai.com/docs/api-reference for more details.
 *
 * The version of the OpenAPI document: 2.3.0
 * Contact: blah+oapicf@cliffano.com
 * Generated by: https://github.com/openapitools/openapi-generator.git
 */

#nullable enable

using System;
using System.Collections;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.Linq;
using System.IO;
using System.Text;
using System.Text.RegularExpressions;
using System.Text.Json;
using System.Text.Json.Serialization;
using System.ComponentModel.DataAnnotations;
using Org.OpenAPITools.Client;

namespace Org.OpenAPITools.Model
{
    /// <summary>
    /// InviteRequest
    /// </summary>
    public partial class InviteRequest : IValidatableObject
    {
        /// <summary>
        /// Initializes a new instance of the <see cref="InviteRequest" /> class.
        /// </summary>
        /// <param name="email">Send an email to this address</param>
        /// <param name="role">&#x60;owner&#x60; or &#x60;reader&#x60;</param>
        /// <param name="projects">An array of projects to which membership is granted at the same time the org invite is accepted. If omitted, the user will be invited to the default project for compatibility with legacy behavior.</param>
        [JsonConstructor]
        public InviteRequest(string email, RoleEnum role, Option<List<InviteRequestProjectsInner>?> projects = default)
        {
            Email = email;
            Role = role;
            ProjectsOption = projects;
            OnCreated();
        }

        partial void OnCreated();

        /// <summary>
        /// &#x60;owner&#x60; or &#x60;reader&#x60;
        /// </summary>
        /// <value>&#x60;owner&#x60; or &#x60;reader&#x60;</value>
        public enum RoleEnum
        {
            /// <summary>
            /// Enum Reader for value: reader
            /// </summary>
            Reader = 1,

            /// <summary>
            /// Enum Owner for value: owner
            /// </summary>
            Owner = 2
        }

        /// <summary>
        /// Returns a <see cref="RoleEnum"/>
        /// </summary>
        /// <param name="value"></param>
        /// <returns></returns>
        /// <exception cref="NotImplementedException"></exception>
        public static RoleEnum RoleEnumFromString(string value)
        {
            if (value.Equals("reader"))
                return RoleEnum.Reader;

            if (value.Equals("owner"))
                return RoleEnum.Owner;

            throw new NotImplementedException($"Could not convert value to type RoleEnum: '{value}'");
        }

        /// <summary>
        /// Returns a <see cref="RoleEnum"/>
        /// </summary>
        /// <param name="value"></param>
        /// <returns></returns>
        public static RoleEnum? RoleEnumFromStringOrDefault(string value)
        {
            if (value.Equals("reader"))
                return RoleEnum.Reader;

            if (value.Equals("owner"))
                return RoleEnum.Owner;

            return null;
        }

        /// <summary>
        /// Converts the <see cref="RoleEnum"/> to the json value
        /// </summary>
        /// <param name="value"></param>
        /// <returns></returns>
        /// <exception cref="NotImplementedException"></exception>
        public static string RoleEnumToJsonValue(RoleEnum value)
        {
            if (value == RoleEnum.Reader)
                return "reader";

            if (value == RoleEnum.Owner)
                return "owner";

            throw new NotImplementedException($"Value could not be handled: '{value}'");
        }

        /// <summary>
        /// &#x60;owner&#x60; or &#x60;reader&#x60;
        /// </summary>
        /// <value>&#x60;owner&#x60; or &#x60;reader&#x60;</value>
        [JsonPropertyName("role")]
        public RoleEnum Role { get; set; }

        /// <summary>
        /// Send an email to this address
        /// </summary>
        /// <value>Send an email to this address</value>
        [JsonPropertyName("email")]
        public string Email { get; set; }

        /// <summary>
        /// Used to track the state of Projects
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<List<InviteRequestProjectsInner>?> ProjectsOption { get; private set; }

        /// <summary>
        /// An array of projects to which membership is granted at the same time the org invite is accepted. If omitted, the user will be invited to the default project for compatibility with legacy behavior.
        /// </summary>
        /// <value>An array of projects to which membership is granted at the same time the org invite is accepted. If omitted, the user will be invited to the default project for compatibility with legacy behavior.</value>
        [JsonPropertyName("projects")]
        public List<InviteRequestProjectsInner>? Projects { get { return this.ProjectsOption; } set { this.ProjectsOption = new(value); } }

        /// <summary>
        /// Returns the string presentation of the object
        /// </summary>
        /// <returns>String presentation of the object</returns>
        public override string ToString()
        {
            StringBuilder sb = new StringBuilder();
            sb.Append("class InviteRequest {\n");
            sb.Append("  Email: ").Append(Email).Append("\n");
            sb.Append("  Role: ").Append(Role).Append("\n");
            sb.Append("  Projects: ").Append(Projects).Append("\n");
            sb.Append("}\n");
            return sb.ToString();
        }

        /// <summary>
        /// To validate all properties of the instance
        /// </summary>
        /// <param name="validationContext">Validation context</param>
        /// <returns>Validation Result</returns>
        IEnumerable<ValidationResult> IValidatableObject.Validate(ValidationContext validationContext)
        {
            yield break;
        }
    }

    /// <summary>
    /// A Json converter for type <see cref="InviteRequest" />
    /// </summary>
    public class InviteRequestJsonConverter : JsonConverter<InviteRequest>
    {
        /// <summary>
        /// Deserializes json to <see cref="InviteRequest" />
        /// </summary>
        /// <param name="utf8JsonReader"></param>
        /// <param name="typeToConvert"></param>
        /// <param name="jsonSerializerOptions"></param>
        /// <returns></returns>
        /// <exception cref="JsonException"></exception>
        public override InviteRequest Read(ref Utf8JsonReader utf8JsonReader, Type typeToConvert, JsonSerializerOptions jsonSerializerOptions)
        {
            int currentDepth = utf8JsonReader.CurrentDepth;

            if (utf8JsonReader.TokenType != JsonTokenType.StartObject && utf8JsonReader.TokenType != JsonTokenType.StartArray)
                throw new JsonException();

            JsonTokenType startingTokenType = utf8JsonReader.TokenType;

            Option<string?> email = default;
            Option<InviteRequest.RoleEnum?> role = default;
            Option<List<InviteRequestProjectsInner>?> projects = default;

            while (utf8JsonReader.Read())
            {
                if (startingTokenType == JsonTokenType.StartObject && utf8JsonReader.TokenType == JsonTokenType.EndObject && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (startingTokenType == JsonTokenType.StartArray && utf8JsonReader.TokenType == JsonTokenType.EndArray && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (utf8JsonReader.TokenType == JsonTokenType.PropertyName && currentDepth == utf8JsonReader.CurrentDepth - 1)
                {
                    string? localVarJsonPropertyName = utf8JsonReader.GetString();
                    utf8JsonReader.Read();

                    switch (localVarJsonPropertyName)
                    {
                        case "email":
                            email = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        case "role":
                            string? roleRawValue = utf8JsonReader.GetString();
                            if (roleRawValue != null)
                                role = new Option<InviteRequest.RoleEnum?>(InviteRequest.RoleEnumFromStringOrDefault(roleRawValue));
                            break;
                        case "projects":
                            projects = new Option<List<InviteRequestProjectsInner>?>(JsonSerializer.Deserialize<List<InviteRequestProjectsInner>>(ref utf8JsonReader, jsonSerializerOptions)!);
                            break;
                        default:
                            break;
                    }
                }
            }

            if (!email.IsSet)
                throw new ArgumentException("Property is required for class InviteRequest.", nameof(email));

            if (!role.IsSet)
                throw new ArgumentException("Property is required for class InviteRequest.", nameof(role));

            if (email.IsSet && email.Value == null)
                throw new ArgumentNullException(nameof(email), "Property is not nullable for class InviteRequest.");

            if (role.IsSet && role.Value == null)
                throw new ArgumentNullException(nameof(role), "Property is not nullable for class InviteRequest.");

            if (projects.IsSet && projects.Value == null)
                throw new ArgumentNullException(nameof(projects), "Property is not nullable for class InviteRequest.");

            return new InviteRequest(email.Value!, role.Value!.Value!, projects);
        }

        /// <summary>
        /// Serializes a <see cref="InviteRequest" />
        /// </summary>
        /// <param name="writer"></param>
        /// <param name="inviteRequest"></param>
        /// <param name="jsonSerializerOptions"></param>
        /// <exception cref="NotImplementedException"></exception>
        public override void Write(Utf8JsonWriter writer, InviteRequest inviteRequest, JsonSerializerOptions jsonSerializerOptions)
        {
            writer.WriteStartObject();

            WriteProperties(writer, inviteRequest, jsonSerializerOptions);
            writer.WriteEndObject();
        }

        /// <summary>
        /// Serializes the properties of <see cref="InviteRequest" />
        /// </summary>
        /// <param name="writer"></param>
        /// <param name="inviteRequest"></param>
        /// <param name="jsonSerializerOptions"></param>
        /// <exception cref="NotImplementedException"></exception>
        public void WriteProperties(Utf8JsonWriter writer, InviteRequest inviteRequest, JsonSerializerOptions jsonSerializerOptions)
        {
            if (inviteRequest.Email == null)
                throw new ArgumentNullException(nameof(inviteRequest.Email), "Property is required for class InviteRequest.");

            if (inviteRequest.ProjectsOption.IsSet && inviteRequest.Projects == null)
                throw new ArgumentNullException(nameof(inviteRequest.Projects), "Property is required for class InviteRequest.");

            writer.WriteString("email", inviteRequest.Email);

            var roleRawValue = InviteRequest.RoleEnumToJsonValue(inviteRequest.Role);
            writer.WriteString("role", roleRawValue);
            if (inviteRequest.ProjectsOption.IsSet)
            {
                writer.WritePropertyName("projects");
                JsonSerializer.Serialize(writer, inviteRequest.Projects, jsonSerializerOptions);
            }
        }
    }
}
