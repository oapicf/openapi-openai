// <auto-generated>
/*
 * OpenAI API
 *
 * The OpenAI REST API. Please see https://platform.openai.com/docs/api-reference for more details.
 *
 * The version of the OpenAPI document: 2.3.0
 * Contact: blah+oapicf@cliffano.com
 * Generated by: https://github.com/openapitools/openapi-generator.git
 */

#nullable enable

using System;
using System.Collections;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.Linq;
using System.IO;
using System.Text;
using System.Text.RegularExpressions;
using System.Text.Json;
using System.Text.Json.Serialization;
using System.ComponentModel.DataAnnotations;
using Org.OpenAPITools.Client;

namespace Org.OpenAPITools.Model
{
    /// <summary>
    /// Send this event to commit the user input audio buffer, which will create a  new user message item in the conversation. This event will produce an error  if the input audio buffer is empty. When in Server VAD mode, the client does  not need to send this event, the server will commit the audio buffer  automatically.  Committing the input audio buffer will trigger input audio transcription  (if enabled in session configuration), but it will not create a response  from the model. The server will respond with an &#x60;input_audio_buffer.committed&#x60;  event. 
    /// </summary>
    public partial class RealtimeClientEventInputAudioBufferCommit : IValidatableObject
    {
        /// <summary>
        /// Initializes a new instance of the <see cref="RealtimeClientEventInputAudioBufferCommit" /> class.
        /// </summary>
        /// <param name="type">The event type, must be &#x60;input_audio_buffer.commit&#x60;.</param>
        /// <param name="eventId">Optional client-generated ID used to identify this event.</param>
        [JsonConstructor]
        public RealtimeClientEventInputAudioBufferCommit(TypeEnum type, Option<string?> eventId = default)
        {
            Type = type;
            EventIdOption = eventId;
            OnCreated();
        }

        partial void OnCreated();

        /// <summary>
        /// The event type, must be &#x60;input_audio_buffer.commit&#x60;.
        /// </summary>
        /// <value>The event type, must be &#x60;input_audio_buffer.commit&#x60;.</value>
        public enum TypeEnum
        {
            /// <summary>
            /// Enum InputAudioBufferCommit for value: input_audio_buffer.commit
            /// </summary>
            InputAudioBufferCommit = 1
        }

        /// <summary>
        /// Returns a <see cref="TypeEnum"/>
        /// </summary>
        /// <param name="value"></param>
        /// <returns></returns>
        /// <exception cref="NotImplementedException"></exception>
        public static TypeEnum TypeEnumFromString(string value)
        {
            if (value.Equals("input_audio_buffer.commit"))
                return TypeEnum.InputAudioBufferCommit;

            throw new NotImplementedException($"Could not convert value to type TypeEnum: '{value}'");
        }

        /// <summary>
        /// Returns a <see cref="TypeEnum"/>
        /// </summary>
        /// <param name="value"></param>
        /// <returns></returns>
        public static TypeEnum? TypeEnumFromStringOrDefault(string value)
        {
            if (value.Equals("input_audio_buffer.commit"))
                return TypeEnum.InputAudioBufferCommit;

            return null;
        }

        /// <summary>
        /// Converts the <see cref="TypeEnum"/> to the json value
        /// </summary>
        /// <param name="value"></param>
        /// <returns></returns>
        /// <exception cref="NotImplementedException"></exception>
        public static string TypeEnumToJsonValue(TypeEnum value)
        {
            if (value == TypeEnum.InputAudioBufferCommit)
                return "input_audio_buffer.commit";

            throw new NotImplementedException($"Value could not be handled: '{value}'");
        }

        /// <summary>
        /// The event type, must be &#x60;input_audio_buffer.commit&#x60;.
        /// </summary>
        /// <value>The event type, must be &#x60;input_audio_buffer.commit&#x60;.</value>
        [JsonPropertyName("type")]
        public TypeEnum Type { get; set; }

        /// <summary>
        /// Used to track the state of EventId
        /// </summary>
        [JsonIgnore]
        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public Option<string?> EventIdOption { get; private set; }

        /// <summary>
        /// Optional client-generated ID used to identify this event.
        /// </summary>
        /// <value>Optional client-generated ID used to identify this event.</value>
        [JsonPropertyName("event_id")]
        public string? EventId { get { return this.EventIdOption; } set { this.EventIdOption = new(value); } }

        /// <summary>
        /// Returns the string presentation of the object
        /// </summary>
        /// <returns>String presentation of the object</returns>
        public override string ToString()
        {
            StringBuilder sb = new StringBuilder();
            sb.Append("class RealtimeClientEventInputAudioBufferCommit {\n");
            sb.Append("  Type: ").Append(Type).Append("\n");
            sb.Append("  EventId: ").Append(EventId).Append("\n");
            sb.Append("}\n");
            return sb.ToString();
        }

        /// <summary>
        /// To validate all properties of the instance
        /// </summary>
        /// <param name="validationContext">Validation context</param>
        /// <returns>Validation Result</returns>
        IEnumerable<ValidationResult> IValidatableObject.Validate(ValidationContext validationContext)
        {
            yield break;
        }
    }

    /// <summary>
    /// A Json converter for type <see cref="RealtimeClientEventInputAudioBufferCommit" />
    /// </summary>
    public class RealtimeClientEventInputAudioBufferCommitJsonConverter : JsonConverter<RealtimeClientEventInputAudioBufferCommit>
    {
        /// <summary>
        /// Deserializes json to <see cref="RealtimeClientEventInputAudioBufferCommit" />
        /// </summary>
        /// <param name="utf8JsonReader"></param>
        /// <param name="typeToConvert"></param>
        /// <param name="jsonSerializerOptions"></param>
        /// <returns></returns>
        /// <exception cref="JsonException"></exception>
        public override RealtimeClientEventInputAudioBufferCommit Read(ref Utf8JsonReader utf8JsonReader, Type typeToConvert, JsonSerializerOptions jsonSerializerOptions)
        {
            int currentDepth = utf8JsonReader.CurrentDepth;

            if (utf8JsonReader.TokenType != JsonTokenType.StartObject && utf8JsonReader.TokenType != JsonTokenType.StartArray)
                throw new JsonException();

            JsonTokenType startingTokenType = utf8JsonReader.TokenType;

            Option<RealtimeClientEventInputAudioBufferCommit.TypeEnum?> type = default;
            Option<string?> eventId = default;

            while (utf8JsonReader.Read())
            {
                if (startingTokenType == JsonTokenType.StartObject && utf8JsonReader.TokenType == JsonTokenType.EndObject && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (startingTokenType == JsonTokenType.StartArray && utf8JsonReader.TokenType == JsonTokenType.EndArray && currentDepth == utf8JsonReader.CurrentDepth)
                    break;

                if (utf8JsonReader.TokenType == JsonTokenType.PropertyName && currentDepth == utf8JsonReader.CurrentDepth - 1)
                {
                    string? localVarJsonPropertyName = utf8JsonReader.GetString();
                    utf8JsonReader.Read();

                    switch (localVarJsonPropertyName)
                    {
                        case "type":
                            string? typeRawValue = utf8JsonReader.GetString();
                            if (typeRawValue != null)
                                type = new Option<RealtimeClientEventInputAudioBufferCommit.TypeEnum?>(RealtimeClientEventInputAudioBufferCommit.TypeEnumFromStringOrDefault(typeRawValue));
                            break;
                        case "event_id":
                            eventId = new Option<string?>(utf8JsonReader.GetString()!);
                            break;
                        default:
                            break;
                    }
                }
            }

            if (!type.IsSet)
                throw new ArgumentException("Property is required for class RealtimeClientEventInputAudioBufferCommit.", nameof(type));

            if (type.IsSet && type.Value == null)
                throw new ArgumentNullException(nameof(type), "Property is not nullable for class RealtimeClientEventInputAudioBufferCommit.");

            if (eventId.IsSet && eventId.Value == null)
                throw new ArgumentNullException(nameof(eventId), "Property is not nullable for class RealtimeClientEventInputAudioBufferCommit.");

            return new RealtimeClientEventInputAudioBufferCommit(type.Value!.Value!, eventId);
        }

        /// <summary>
        /// Serializes a <see cref="RealtimeClientEventInputAudioBufferCommit" />
        /// </summary>
        /// <param name="writer"></param>
        /// <param name="realtimeClientEventInputAudioBufferCommit"></param>
        /// <param name="jsonSerializerOptions"></param>
        /// <exception cref="NotImplementedException"></exception>
        public override void Write(Utf8JsonWriter writer, RealtimeClientEventInputAudioBufferCommit realtimeClientEventInputAudioBufferCommit, JsonSerializerOptions jsonSerializerOptions)
        {
            writer.WriteStartObject();

            WriteProperties(writer, realtimeClientEventInputAudioBufferCommit, jsonSerializerOptions);
            writer.WriteEndObject();
        }

        /// <summary>
        /// Serializes the properties of <see cref="RealtimeClientEventInputAudioBufferCommit" />
        /// </summary>
        /// <param name="writer"></param>
        /// <param name="realtimeClientEventInputAudioBufferCommit"></param>
        /// <param name="jsonSerializerOptions"></param>
        /// <exception cref="NotImplementedException"></exception>
        public void WriteProperties(Utf8JsonWriter writer, RealtimeClientEventInputAudioBufferCommit realtimeClientEventInputAudioBufferCommit, JsonSerializerOptions jsonSerializerOptions)
        {
            if (realtimeClientEventInputAudioBufferCommit.EventIdOption.IsSet && realtimeClientEventInputAudioBufferCommit.EventId == null)
                throw new ArgumentNullException(nameof(realtimeClientEventInputAudioBufferCommit.EventId), "Property is required for class RealtimeClientEventInputAudioBufferCommit.");

            var typeRawValue = RealtimeClientEventInputAudioBufferCommit.TypeEnumToJsonValue(realtimeClientEventInputAudioBufferCommit.Type);
            writer.WriteString("type", typeRawValue);
            if (realtimeClientEventInputAudioBufferCommit.EventIdOption.IsSet)
                writer.WriteString("event_id", realtimeClientEventInputAudioBufferCommit.EventId);
        }
    }
}
