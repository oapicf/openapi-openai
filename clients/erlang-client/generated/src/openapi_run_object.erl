-module(openapi_run_object).

-export([encode/1]).

-export_type([openapi_run_object/0]).

-type openapi_run_object() ::
    #{ 'id' := binary(),
       'object' := binary(),
       'created_at' := integer(),
       'thread_id' := binary(),
       'assistant_id' := binary(),
       'status' := binary(),
       'required_action' := openapi_run_object_required_action:openapi_run_object_required_action(),
       'last_error' := openapi_run_object_last_error:openapi_run_object_last_error(),
       'expires_at' := integer(),
       'started_at' := integer(),
       'cancelled_at' := integer(),
       'failed_at' := integer(),
       'completed_at' := integer(),
       'incomplete_details' := openapi_run_object_incomplete_details:openapi_run_object_incomplete_details(),
       'model' := binary(),
       'instructions' := binary(),
       'tools' := list(),
       'metadata' := maps:map(),
       'usage' := openapi_run_completion_usage:openapi_run_completion_usage(),
       'temperature' => integer(),
       'top_p' => integer(),
       'max_prompt_tokens' := integer(),
       'max_completion_tokens' := integer(),
       'truncation_strategy' := openapi_truncation_object:openapi_truncation_object(),
       'tool_choice' := openapi_assistants_api_tool_choice_option:openapi_assistants_api_tool_choice_option(),
       'parallel_tool_calls' := boolean(),
       'response_format' := openapi_assistants_api_response_format_option:openapi_assistants_api_response_format_option()
     }.

encode(#{ 'id' := Id,
          'object' := Object,
          'created_at' := CreatedAt,
          'thread_id' := ThreadId,
          'assistant_id' := AssistantId,
          'status' := Status,
          'required_action' := RequiredAction,
          'last_error' := LastError,
          'expires_at' := ExpiresAt,
          'started_at' := StartedAt,
          'cancelled_at' := CancelledAt,
          'failed_at' := FailedAt,
          'completed_at' := CompletedAt,
          'incomplete_details' := IncompleteDetails,
          'model' := Model,
          'instructions' := Instructions,
          'tools' := Tools,
          'metadata' := Metadata,
          'usage' := Usage,
          'temperature' := Temperature,
          'top_p' := TopP,
          'max_prompt_tokens' := MaxPromptTokens,
          'max_completion_tokens' := MaxCompletionTokens,
          'truncation_strategy' := TruncationStrategy,
          'tool_choice' := ToolChoice,
          'parallel_tool_calls' := ParallelToolCalls,
          'response_format' := ResponseFormat
        }) ->
    #{ 'id' => Id,
       'object' => Object,
       'created_at' => CreatedAt,
       'thread_id' => ThreadId,
       'assistant_id' => AssistantId,
       'status' => Status,
       'required_action' => RequiredAction,
       'last_error' => LastError,
       'expires_at' => ExpiresAt,
       'started_at' => StartedAt,
       'cancelled_at' => CancelledAt,
       'failed_at' => FailedAt,
       'completed_at' => CompletedAt,
       'incomplete_details' => IncompleteDetails,
       'model' => Model,
       'instructions' => Instructions,
       'tools' => Tools,
       'metadata' => Metadata,
       'usage' => Usage,
       'temperature' => Temperature,
       'top_p' => TopP,
       'max_prompt_tokens' => MaxPromptTokens,
       'max_completion_tokens' => MaxCompletionTokens,
       'truncation_strategy' => TruncationStrategy,
       'tool_choice' => ToolChoice,
       'parallel_tool_calls' => ParallelToolCalls,
       'response_format' => ResponseFormat
     }.
