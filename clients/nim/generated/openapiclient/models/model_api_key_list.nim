#
# OpenAI API
# 
# The OpenAI REST API. Please see https://platform.openai.com/docs/api-reference for more details.
# The version of the OpenAPI document: 2.3.0
# Contact: blah+oapicf@cliffano.com
# Generated by: https://openapi-generator.tech
#

import json
import tables
import marshal
import options

import model_admin_api_key

type ApiKeyList* = object
  ## 
  `object`*: Option[string]
  data*: Option[seq[AdminApiKey]]
  hasMore*: Option[bool]
  firstId*: Option[string]
  lastId*: Option[string]


# Custom JSON deserialization for ApiKeyList with custom field names
proc to*(node: JsonNode, T: typedesc[ApiKeyList]): ApiKeyList =
  result = ApiKeyList()
  if node.kind == JObject:
    if node.hasKey("object") and node["object"].kind != JNull:
      result.`object` = some(to(node["object"], typeof(result.`object`.get())))
    if node.hasKey("data") and node["data"].kind != JNull:
      # Optional array of types with custom JSON - manually iterate and deserialize
      let arrayNode = node["data"]
      if arrayNode.kind == JArray:
        var arr: seq[AdminApiKey] = @[]
        for item in arrayNode.items:
          arr.add(to(item, AdminApiKey))
        result.data = some(arr)
    if node.hasKey("has_more") and node["has_more"].kind != JNull:
      result.hasMore = some(to(node["has_more"], typeof(result.hasMore.get())))
    if node.hasKey("first_id") and node["first_id"].kind != JNull:
      result.firstId = some(to(node["first_id"], typeof(result.firstId.get())))
    if node.hasKey("last_id") and node["last_id"].kind != JNull:
      result.lastId = some(to(node["last_id"], typeof(result.lastId.get())))

# Custom JSON serialization for ApiKeyList with custom field names
proc `%`*(obj: ApiKeyList): JsonNode =
  result = newJObject()
  if obj.`object`.isSome():
    result["object"] = %obj.`object`.get()
  if obj.data.isSome():
    result["data"] = %obj.data.get()
  if obj.hasMore.isSome():
    result["has_more"] = %obj.hasMore.get()
  if obj.firstId.isSome():
    result["first_id"] = %obj.firstId.get()
  if obj.lastId.isSome():
    result["last_id"] = %obj.lastId.get()

