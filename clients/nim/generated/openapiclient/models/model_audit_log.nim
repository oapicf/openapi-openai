#
# OpenAI API
# 
# The OpenAI REST API. Please see https://platform.openai.com/docs/api-reference for more details.
# The version of the OpenAPI document: 2.3.0
# Contact: blah+oapicf@cliffano.com
# Generated by: https://openapi-generator.tech
#

import json
import tables
import marshal
import options

import model_audit_log_actor
import model_audit_log_api_key_created
import model_audit_log_api_key_deleted
import model_audit_log_api_key_updated
import model_audit_log_event_type
import model_audit_log_invite_accepted
import model_audit_log_invite_sent
import model_audit_log_login_failed
import model_audit_log_organization_updated
import model_audit_log_project
import model_audit_log_project_archived
import model_audit_log_project_created
import model_audit_log_project_updated
import model_audit_log_rate_limit_deleted
import model_audit_log_rate_limit_updated
import model_audit_log_service_account_created
import model_audit_log_service_account_deleted
import model_audit_log_service_account_updated
import model_audit_log_user_added
import model_audit_log_user_deleted
import model_audit_log_user_updated

type AuditLog* = object
  ## A log of a user action or configuration change within this organization.
  id*: string ## The ID of this log.
  `type`*: AuditLogEventType
  effectiveAt*: int ## The Unix timestamp (in seconds) of the event.
  project*: Option[AuditLog_project]
  actor*: AuditLogActor
  apiKeyCreated*: Option[AuditLog_api_key_created]
  apiKeyUpdated*: Option[AuditLog_api_key_updated]
  apiKeyDeleted*: Option[AuditLog_api_key_deleted]
  inviteSent*: Option[AuditLog_invite_sent]
  inviteAccepted*: Option[AuditLog_invite_accepted]
  inviteDeleted*: Option[AuditLog_invite_accepted]
  loginFailed*: Option[AuditLog_login_failed]
  logoutFailed*: Option[AuditLog_login_failed]
  organizationUpdated*: Option[AuditLog_organization_updated]
  projectCreated*: Option[AuditLog_project_created]
  projectUpdated*: Option[AuditLog_project_updated]
  projectArchived*: Option[AuditLog_project_archived]
  rateLimitUpdated*: Option[AuditLog_rate_limit_updated]
  rateLimitDeleted*: Option[AuditLog_rate_limit_deleted]
  serviceAccountCreated*: Option[AuditLog_service_account_created]
  serviceAccountUpdated*: Option[AuditLog_service_account_updated]
  serviceAccountDeleted*: Option[AuditLog_service_account_deleted]
  userAdded*: Option[AuditLog_user_added]
  userUpdated*: Option[AuditLog_user_updated]
  userDeleted*: Option[AuditLog_user_deleted]


# Custom JSON deserialization for AuditLog with custom field names
proc to*(node: JsonNode, T: typedesc[AuditLog]): AuditLog =
  result = AuditLog()
  if node.kind == JObject:
    if node.hasKey("id"):
      result.id = to(node["id"], string)
    if node.hasKey("type"):
      result.`type` = to(node["type"], AuditLogEventType)
    if node.hasKey("effective_at"):
      result.effectiveAt = to(node["effective_at"], int)
    if node.hasKey("project") and node["project"].kind != JNull:
      result.project = some(to(node["project"], typeof(result.project.get())))
    if node.hasKey("actor"):
      result.actor = to(node["actor"], AuditLogActor)
    if node.hasKey("api_key.created") and node["api_key.created"].kind != JNull:
      result.apiKeyCreated = some(to(node["api_key.created"], typeof(result.apiKeyCreated.get())))
    if node.hasKey("api_key.updated") and node["api_key.updated"].kind != JNull:
      result.apiKeyUpdated = some(to(node["api_key.updated"], typeof(result.apiKeyUpdated.get())))
    if node.hasKey("api_key.deleted") and node["api_key.deleted"].kind != JNull:
      result.apiKeyDeleted = some(to(node["api_key.deleted"], typeof(result.apiKeyDeleted.get())))
    if node.hasKey("invite.sent") and node["invite.sent"].kind != JNull:
      result.inviteSent = some(to(node["invite.sent"], typeof(result.inviteSent.get())))
    if node.hasKey("invite.accepted") and node["invite.accepted"].kind != JNull:
      result.inviteAccepted = some(to(node["invite.accepted"], typeof(result.inviteAccepted.get())))
    if node.hasKey("invite.deleted") and node["invite.deleted"].kind != JNull:
      result.inviteDeleted = some(to(node["invite.deleted"], typeof(result.inviteDeleted.get())))
    if node.hasKey("login.failed") and node["login.failed"].kind != JNull:
      result.loginFailed = some(to(node["login.failed"], typeof(result.loginFailed.get())))
    if node.hasKey("logout.failed") and node["logout.failed"].kind != JNull:
      result.logoutFailed = some(to(node["logout.failed"], typeof(result.logoutFailed.get())))
    if node.hasKey("organization.updated") and node["organization.updated"].kind != JNull:
      result.organizationUpdated = some(to(node["organization.updated"], typeof(result.organizationUpdated.get())))
    if node.hasKey("project.created") and node["project.created"].kind != JNull:
      result.projectCreated = some(to(node["project.created"], typeof(result.projectCreated.get())))
    if node.hasKey("project.updated") and node["project.updated"].kind != JNull:
      result.projectUpdated = some(to(node["project.updated"], typeof(result.projectUpdated.get())))
    if node.hasKey("project.archived") and node["project.archived"].kind != JNull:
      result.projectArchived = some(to(node["project.archived"], typeof(result.projectArchived.get())))
    if node.hasKey("rate_limit.updated") and node["rate_limit.updated"].kind != JNull:
      result.rateLimitUpdated = some(to(node["rate_limit.updated"], typeof(result.rateLimitUpdated.get())))
    if node.hasKey("rate_limit.deleted") and node["rate_limit.deleted"].kind != JNull:
      result.rateLimitDeleted = some(to(node["rate_limit.deleted"], typeof(result.rateLimitDeleted.get())))
    if node.hasKey("service_account.created") and node["service_account.created"].kind != JNull:
      result.serviceAccountCreated = some(to(node["service_account.created"], typeof(result.serviceAccountCreated.get())))
    if node.hasKey("service_account.updated") and node["service_account.updated"].kind != JNull:
      result.serviceAccountUpdated = some(to(node["service_account.updated"], typeof(result.serviceAccountUpdated.get())))
    if node.hasKey("service_account.deleted") and node["service_account.deleted"].kind != JNull:
      result.serviceAccountDeleted = some(to(node["service_account.deleted"], typeof(result.serviceAccountDeleted.get())))
    if node.hasKey("user.added") and node["user.added"].kind != JNull:
      result.userAdded = some(to(node["user.added"], typeof(result.userAdded.get())))
    if node.hasKey("user.updated") and node["user.updated"].kind != JNull:
      result.userUpdated = some(to(node["user.updated"], typeof(result.userUpdated.get())))
    if node.hasKey("user.deleted") and node["user.deleted"].kind != JNull:
      result.userDeleted = some(to(node["user.deleted"], typeof(result.userDeleted.get())))

# Custom JSON serialization for AuditLog with custom field names
proc `%`*(obj: AuditLog): JsonNode =
  result = newJObject()
  result["id"] = %obj.id
  result["type"] = %obj.`type`
  result["effective_at"] = %obj.effectiveAt
  if obj.project.isSome():
    result["project"] = %obj.project.get()
  result["actor"] = %obj.actor
  if obj.apiKeyCreated.isSome():
    result["api_key.created"] = %obj.apiKeyCreated.get()
  if obj.apiKeyUpdated.isSome():
    result["api_key.updated"] = %obj.apiKeyUpdated.get()
  if obj.apiKeyDeleted.isSome():
    result["api_key.deleted"] = %obj.apiKeyDeleted.get()
  if obj.inviteSent.isSome():
    result["invite.sent"] = %obj.inviteSent.get()
  if obj.inviteAccepted.isSome():
    result["invite.accepted"] = %obj.inviteAccepted.get()
  if obj.inviteDeleted.isSome():
    result["invite.deleted"] = %obj.inviteDeleted.get()
  if obj.loginFailed.isSome():
    result["login.failed"] = %obj.loginFailed.get()
  if obj.logoutFailed.isSome():
    result["logout.failed"] = %obj.logoutFailed.get()
  if obj.organizationUpdated.isSome():
    result["organization.updated"] = %obj.organizationUpdated.get()
  if obj.projectCreated.isSome():
    result["project.created"] = %obj.projectCreated.get()
  if obj.projectUpdated.isSome():
    result["project.updated"] = %obj.projectUpdated.get()
  if obj.projectArchived.isSome():
    result["project.archived"] = %obj.projectArchived.get()
  if obj.rateLimitUpdated.isSome():
    result["rate_limit.updated"] = %obj.rateLimitUpdated.get()
  if obj.rateLimitDeleted.isSome():
    result["rate_limit.deleted"] = %obj.rateLimitDeleted.get()
  if obj.serviceAccountCreated.isSome():
    result["service_account.created"] = %obj.serviceAccountCreated.get()
  if obj.serviceAccountUpdated.isSome():
    result["service_account.updated"] = %obj.serviceAccountUpdated.get()
  if obj.serviceAccountDeleted.isSome():
    result["service_account.deleted"] = %obj.serviceAccountDeleted.get()
  if obj.userAdded.isSome():
    result["user.added"] = %obj.userAdded.get()
  if obj.userUpdated.isSome():
    result["user.updated"] = %obj.userUpdated.get()
  if obj.userDeleted.isSome():
    result["user.deleted"] = %obj.userDeleted.get()

