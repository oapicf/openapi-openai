#
# OpenAI API
# 
# The OpenAI REST API. Please see https://platform.openai.com/docs/api-reference for more details.
# The version of the OpenAPI document: 2.3.0
# Contact: blah+oapicf@cliffano.com
# Generated by: https://openapi-generator.tech
#

import json
import tables
import marshal
import options

import model_batch_request_output_error
import model_batch_request_output_response

type BatchRequestOutput* = object
  ## The per-line object of the batch output and error files
  id*: Option[string]
  customId*: Option[string] ## A developer-provided per-request id that will be used to match outputs to inputs.
  response*: Option[BatchRequestOutput_response]
  error*: Option[BatchRequestOutput_error]


# Custom JSON deserialization for BatchRequestOutput with custom field names
proc to*(node: JsonNode, T: typedesc[BatchRequestOutput]): BatchRequestOutput =
  result = BatchRequestOutput()
  if node.kind == JObject:
    if node.hasKey("id") and node["id"].kind != JNull:
      result.id = some(to(node["id"], typeof(result.id.get())))
    if node.hasKey("custom_id") and node["custom_id"].kind != JNull:
      result.customId = some(to(node["custom_id"], typeof(result.customId.get())))
    if node.hasKey("response") and node["response"].kind != JNull:
      result.response = some(to(node["response"], typeof(result.response.get())))
    if node.hasKey("error") and node["error"].kind != JNull:
      result.error = some(to(node["error"], typeof(result.error.get())))

# Custom JSON serialization for BatchRequestOutput with custom field names
proc `%`*(obj: BatchRequestOutput): JsonNode =
  result = newJObject()
  if obj.id.isSome():
    result["id"] = %obj.id.get()
  if obj.customId.isSome():
    result["custom_id"] = %obj.customId.get()
  if obj.response.isSome():
    result["response"] = %obj.response.get()
  if obj.error.isSome():
    result["error"] = %obj.error.get()

