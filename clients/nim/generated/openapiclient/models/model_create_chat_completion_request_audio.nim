#
# OpenAI API
# 
# The OpenAI REST API. Please see https://platform.openai.com/docs/api-reference for more details.
# The version of the OpenAPI document: 2.3.0
# Contact: blah+oapicf@cliffano.com
# Generated by: https://openapi-generator.tech
#

import json
import tables
import marshal
import options


type Voice* {.pure.} = enum
  Alloy
  Ash
  Ballad
  Coral
  Echo
  Sage
  Shimmer
  Verse

type Format* {.pure.} = enum
  Wav
  Mp3
  Flac
  Opus
  Pcm16

type CreateChatCompletionRequestAudio* = object
  ## Parameters for audio output. Required when audio output is requested with `modalities: [\"audio\"]`. [Learn more](/docs/guides/audio). 
  voice*: Voice ## The voice the model uses to respond. Supported voices are `ash`, `ballad`, `coral`, `sage`, and `verse` (also supported but not recommended are `alloy`, `echo`, and `shimmer`; these voices are less expressive). 
  format*: Format ## Specifies the output audio format. Must be one of `wav`, `mp3`, `flac`, `opus`, or `pcm16`. 

func `%`*(v: Voice): JsonNode =
  result = case v:
    of Voice.Alloy: %"alloy"
    of Voice.Ash: %"ash"
    of Voice.Ballad: %"ballad"
    of Voice.Coral: %"coral"
    of Voice.Echo: %"echo"
    of Voice.Sage: %"sage"
    of Voice.Shimmer: %"shimmer"
    of Voice.Verse: %"verse"
func `$`*(v: Voice): string =
  result = case v:
    of Voice.Alloy: $("alloy")
    of Voice.Ash: $("ash")
    of Voice.Ballad: $("ballad")
    of Voice.Coral: $("coral")
    of Voice.Echo: $("echo")
    of Voice.Sage: $("sage")
    of Voice.Shimmer: $("shimmer")
    of Voice.Verse: $("verse")

proc to*(node: JsonNode, T: typedesc[Voice]): Voice =
  if node.kind != JString:
    raise newException(ValueError, "Expected string for enum Voice, got " & $node.kind)
  let strVal = node.getStr()
  case strVal:
  of $("alloy"):
    return Voice.Alloy
  of $("ash"):
    return Voice.Ash
  of $("ballad"):
    return Voice.Ballad
  of $("coral"):
    return Voice.Coral
  of $("echo"):
    return Voice.Echo
  of $("sage"):
    return Voice.Sage
  of $("shimmer"):
    return Voice.Shimmer
  of $("verse"):
    return Voice.Verse
  else:
    raise newException(ValueError, "Invalid enum value for Voice: " & strVal)

func `%`*(v: Format): JsonNode =
  result = case v:
    of Format.Wav: %"wav"
    of Format.Mp3: %"mp3"
    of Format.Flac: %"flac"
    of Format.Opus: %"opus"
    of Format.Pcm16: %"pcm16"
func `$`*(v: Format): string =
  result = case v:
    of Format.Wav: $("wav")
    of Format.Mp3: $("mp3")
    of Format.Flac: $("flac")
    of Format.Opus: $("opus")
    of Format.Pcm16: $("pcm16")

proc to*(node: JsonNode, T: typedesc[Format]): Format =
  if node.kind != JString:
    raise newException(ValueError, "Expected string for enum Format, got " & $node.kind)
  let strVal = node.getStr()
  case strVal:
  of $("wav"):
    return Format.Wav
  of $("mp3"):
    return Format.Mp3
  of $("flac"):
    return Format.Flac
  of $("opus"):
    return Format.Opus
  of $("pcm16"):
    return Format.Pcm16
  else:
    raise newException(ValueError, "Invalid enum value for Format: " & strVal)

