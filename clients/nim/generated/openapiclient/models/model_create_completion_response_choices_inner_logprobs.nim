#
# OpenAI API
# 
# The OpenAI REST API. Please see https://platform.openai.com/docs/api-reference for more details.
# The version of the OpenAPI document: 2.3.0
# Contact: blah+oapicf@cliffano.com
# Generated by: https://openapi-generator.tech
#

import json
import tables
import marshal
import options


type CreateCompletionResponseChoicesInnerLogprobs* = object
  ## 
  textOffset*: Option[seq[int]]
  tokenLogprobs*: Option[seq[float]]
  tokens*: Option[seq[string]]
  topLogprobs*: Option[seq[Table[string, float]]]


# Custom JSON deserialization for CreateCompletionResponseChoicesInnerLogprobs with custom field names
proc to*(node: JsonNode, T: typedesc[CreateCompletionResponseChoicesInnerLogprobs]): CreateCompletionResponseChoicesInnerLogprobs =
  result = CreateCompletionResponseChoicesInnerLogprobs()
  if node.kind == JObject:
    if node.hasKey("text_offset") and node["text_offset"].kind != JNull:
      result.textOffset = some(to(node["text_offset"], typeof(result.textOffset.get())))
    if node.hasKey("token_logprobs") and node["token_logprobs"].kind != JNull:
      result.tokenLogprobs = some(to(node["token_logprobs"], typeof(result.tokenLogprobs.get())))
    if node.hasKey("tokens") and node["tokens"].kind != JNull:
      result.tokens = some(to(node["tokens"], typeof(result.tokens.get())))
    if node.hasKey("top_logprobs") and node["top_logprobs"].kind != JNull:
      result.topLogprobs = some(to(node["top_logprobs"], typeof(result.topLogprobs.get())))

# Custom JSON serialization for CreateCompletionResponseChoicesInnerLogprobs with custom field names
proc `%`*(obj: CreateCompletionResponseChoicesInnerLogprobs): JsonNode =
  result = newJObject()
  if obj.textOffset.isSome():
    result["text_offset"] = %obj.textOffset.get()
  if obj.tokenLogprobs.isSome():
    result["token_logprobs"] = %obj.tokenLogprobs.get()
  if obj.tokens.isSome():
    result["tokens"] = %obj.tokens.get()
  if obj.topLogprobs.isSome():
    result["top_logprobs"] = %obj.topLogprobs.get()

