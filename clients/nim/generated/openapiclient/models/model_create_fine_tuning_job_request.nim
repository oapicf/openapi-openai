#
# OpenAI API
# 
# The OpenAI REST API. Please see https://platform.openai.com/docs/api-reference for more details.
# The version of the OpenAPI document: 2.3.0
# Contact: blah+oapicf@cliffano.com
# Generated by: https://openapi-generator.tech
#

import json
import tables
import marshal
import options

import model_create_fine_tuning_job_request_hyperparameters
import model_create_fine_tuning_job_request_integrations_inner
import model_create_fine_tuning_job_request_model
import model_fine_tune_method

type CreateFineTuningJobRequest* = object
  ## 
  model*: CreateFineTuningJobRequest_model
  trainingFile*: string ## The ID of an uploaded file that contains training data.  See [upload file](/docs/api-reference/files/create) for how to upload a file.  Your dataset must be formatted as a JSONL file. Additionally, you must upload your file with the purpose `fine-tune`.  The contents of the file should differ depending on if the model uses the [chat](/docs/api-reference/fine-tuning/chat-input), [completions](/docs/api-reference/fine-tuning/completions-input) format, or if the fine-tuning method uses the [preference](/docs/api-reference/fine-tuning/preference-input) format.  See the [fine-tuning guide](/docs/guides/fine-tuning) for more details. 
  hyperparameters*: Option[CreateFineTuningJobRequest_hyperparameters]
  suffix*: Option[string] ## A string of up to 64 characters that will be added to your fine-tuned model name.  For example, a `suffix` of \"custom-model-name\" would produce a model name like `ft:gpt-4o-mini:openai:custom-model-name:7p4lURel`. 
  validationFile*: Option[string] ## The ID of an uploaded file that contains validation data.  If you provide this file, the data is used to generate validation metrics periodically during fine-tuning. These metrics can be viewed in the fine-tuning results file. The same data should not be present in both train and validation files.  Your dataset must be formatted as a JSONL file. You must upload your file with the purpose `fine-tune`.  See the [fine-tuning guide](/docs/guides/fine-tuning) for more details. 
  integrations*: Option[seq[CreateFineTuningJobRequest_integrations_inner]] ## A list of integrations to enable for your fine-tuning job.
  seed*: Option[int] ## The seed controls the reproducibility of the job. Passing in the same seed and job parameters should produce the same results, but may differ in rare cases. If a seed is not specified, one will be generated for you. 
  `method`*: Option[FineTuneMethod]


# Custom JSON deserialization for CreateFineTuningJobRequest with custom field names
proc to*(node: JsonNode, T: typedesc[CreateFineTuningJobRequest]): CreateFineTuningJobRequest =
  result = CreateFineTuningJobRequest()
  if node.kind == JObject:
    if node.hasKey("model"):
      result.model = to(node["model"], CreateFineTuningJobRequest_model)
    if node.hasKey("training_file"):
      result.trainingFile = to(node["training_file"], string)
    if node.hasKey("hyperparameters") and node["hyperparameters"].kind != JNull:
      result.hyperparameters = some(to(node["hyperparameters"], typeof(result.hyperparameters.get())))
    if node.hasKey("suffix") and node["suffix"].kind != JNull:
      result.suffix = some(to(node["suffix"], typeof(result.suffix.get())))
    if node.hasKey("validation_file") and node["validation_file"].kind != JNull:
      result.validationFile = some(to(node["validation_file"], typeof(result.validationFile.get())))
    if node.hasKey("integrations") and node["integrations"].kind != JNull:
      result.integrations = some(to(node["integrations"], typeof(result.integrations.get())))
    if node.hasKey("seed") and node["seed"].kind != JNull:
      result.seed = some(to(node["seed"], typeof(result.seed.get())))
    if node.hasKey("method") and node["method"].kind != JNull:
      result.`method` = some(to(node["method"], typeof(result.`method`.get())))

# Custom JSON serialization for CreateFineTuningJobRequest with custom field names
proc `%`*(obj: CreateFineTuningJobRequest): JsonNode =
  result = newJObject()
  result["model"] = %obj.model
  result["training_file"] = %obj.trainingFile
  if obj.hyperparameters.isSome():
    result["hyperparameters"] = %obj.hyperparameters.get()
  if obj.suffix.isSome():
    result["suffix"] = %obj.suffix.get()
  if obj.validationFile.isSome():
    result["validation_file"] = %obj.validationFile.get()
  if obj.integrations.isSome():
    result["integrations"] = %obj.integrations.get()
  if obj.seed.isSome():
    result["seed"] = %obj.seed.get()
  if obj.`method`.isSome():
    result["method"] = %obj.`method`.get()

