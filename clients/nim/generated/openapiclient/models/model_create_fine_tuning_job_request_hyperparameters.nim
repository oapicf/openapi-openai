#
# OpenAI API
# 
# The OpenAI REST API. Please see https://platform.openai.com/docs/api-reference for more details.
# The version of the OpenAPI document: 2.0.0
# Contact: blah+oapicf@cliffano.com
# Generated by: https://openapi-generator.tech
#

import json
import tables
import marshal
import options

import model_create_fine_tuning_job_request_hyperparameters_batch_size
import model_create_fine_tuning_job_request_hyperparameters_learning_rate_multiplier
import model_create_fine_tuning_job_request_hyperparameters_n_epochs

type CreateFineTuningJobRequestHyperparameters* = object
  ## The hyperparameters used for the fine-tuning job.
  batchSize*: Option[CreateFineTuningJobRequest_hyperparameters_batch_size]
  learningRateMultiplier*: Option[CreateFineTuningJobRequest_hyperparameters_learning_rate_multiplier]
  nEpochs*: Option[CreateFineTuningJobRequest_hyperparameters_n_epochs]


# Custom JSON deserialization for CreateFineTuningJobRequestHyperparameters with custom field names
proc to*(node: JsonNode, T: typedesc[CreateFineTuningJobRequestHyperparameters]): CreateFineTuningJobRequestHyperparameters =
  result = CreateFineTuningJobRequestHyperparameters()
  if node.kind == JObject:
    if node.hasKey("batch_size") and node["batch_size"].kind != JNull:
      result.batchSize = some(to(node["batch_size"], typeof(result.batchSize.get())))
    if node.hasKey("learning_rate_multiplier") and node["learning_rate_multiplier"].kind != JNull:
      result.learningRateMultiplier = some(to(node["learning_rate_multiplier"], typeof(result.learningRateMultiplier.get())))
    if node.hasKey("n_epochs") and node["n_epochs"].kind != JNull:
      result.nEpochs = some(to(node["n_epochs"], typeof(result.nEpochs.get())))

# Custom JSON serialization for CreateFineTuningJobRequestHyperparameters with custom field names
proc `%`*(obj: CreateFineTuningJobRequestHyperparameters): JsonNode =
  result = newJObject()
  if obj.batchSize.isSome():
    result["batch_size"] = %obj.batchSize.get()
  if obj.learningRateMultiplier.isSome():
    result["learning_rate_multiplier"] = %obj.learningRateMultiplier.get()
  if obj.nEpochs.isSome():
    result["n_epochs"] = %obj.nEpochs.get()

