#
# OpenAI API
# 
# The OpenAI REST API. Please see https://platform.openai.com/docs/api-reference for more details.
# The version of the OpenAPI document: 2.3.0
# Contact: blah+oapicf@cliffano.com
# Generated by: https://openapi-generator.tech
#

import json
import tables
import marshal
import options

import model_fine_tune_dpo_method_hyperparameters_batch_size
import model_fine_tune_dpo_method_hyperparameters_beta
import model_fine_tune_dpo_method_hyperparameters_learning_rate_multiplier
import model_fine_tune_dpo_method_hyperparameters_n_epochs

type FineTuneDPOMethodHyperparameters* = object
  ## The hyperparameters used for the fine-tuning job.
  beta*: Option[FineTuneDPOMethod_hyperparameters_beta]
  batchSize*: Option[FineTuneDPOMethod_hyperparameters_batch_size]
  learningRateMultiplier*: Option[FineTuneDPOMethod_hyperparameters_learning_rate_multiplier]
  nEpochs*: Option[FineTuneDPOMethod_hyperparameters_n_epochs]


# Custom JSON deserialization for FineTuneDPOMethodHyperparameters with custom field names
proc to*(node: JsonNode, T: typedesc[FineTuneDPOMethodHyperparameters]): FineTuneDPOMethodHyperparameters =
  result = FineTuneDPOMethodHyperparameters()
  if node.kind == JObject:
    if node.hasKey("beta") and node["beta"].kind != JNull:
      result.beta = some(to(node["beta"], typeof(result.beta.get())))
    if node.hasKey("batch_size") and node["batch_size"].kind != JNull:
      result.batchSize = some(to(node["batch_size"], typeof(result.batchSize.get())))
    if node.hasKey("learning_rate_multiplier") and node["learning_rate_multiplier"].kind != JNull:
      result.learningRateMultiplier = some(to(node["learning_rate_multiplier"], typeof(result.learningRateMultiplier.get())))
    if node.hasKey("n_epochs") and node["n_epochs"].kind != JNull:
      result.nEpochs = some(to(node["n_epochs"], typeof(result.nEpochs.get())))

# Custom JSON serialization for FineTuneDPOMethodHyperparameters with custom field names
proc `%`*(obj: FineTuneDPOMethodHyperparameters): JsonNode =
  result = newJObject()
  if obj.beta.isSome():
    result["beta"] = %obj.beta.get()
  if obj.batchSize.isSome():
    result["batch_size"] = %obj.batchSize.get()
  if obj.learningRateMultiplier.isSome():
    result["learning_rate_multiplier"] = %obj.learningRateMultiplier.get()
  if obj.nEpochs.isSome():
    result["n_epochs"] = %obj.nEpochs.get()

