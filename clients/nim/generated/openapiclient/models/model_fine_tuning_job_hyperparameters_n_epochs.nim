#
# OpenAI API
# 
# The OpenAI REST API. Please see https://platform.openai.com/docs/api-reference for more details.
# The version of the OpenAPI document: 2.0.0
# Contact: blah+oapicf@cliffano.com
# Generated by: https://openapi-generator.tech
#

import json
import tables
import marshal
import options


# OneOf type
type FineTuningJobHyperparametersNEpochsKind* {.pure.} = enum
  StringVariant
  IntegerVariant

type FineTuningJobHyperparametersNEpochs* = object
  ## The number of epochs to train the model for. An epoch refers to one full cycle through the training dataset. \"auto\" decides the optimal number of epochs based on the size of the dataset. If setting the number manually, we support any number between 1 and 50 epochs.
  case kind*: FineTuningJobHyperparametersNEpochsKind
  of FineTuningJobHyperparametersNEpochsKind.StringVariant:
    stringValue*: string
  of FineTuningJobHyperparametersNEpochsKind.IntegerVariant:
    integerValue*: int

proc to*(node: JsonNode, T: typedesc[FineTuningJobHyperparametersNEpochs]): FineTuningJobHyperparametersNEpochs =
  ## Custom deserializer for oneOf type - tries each variant
  try:
    return FineTuningJobHyperparametersNEpochs(kind: FineTuningJobHyperparametersNEpochsKind.StringVariant, stringValue: to(node, string))
  except Exception as e:
    when defined(debug):
      echo "Failed to deserialize as string: ", e.msg
  try:
    return FineTuningJobHyperparametersNEpochs(kind: FineTuningJobHyperparametersNEpochsKind.IntegerVariant, integerValue: to(node, int))
  except Exception as e:
    when defined(debug):
      echo "Failed to deserialize as int: ", e.msg
  raise newException(ValueError, "Unable to deserialize into any variant of FineTuningJobHyperparametersNEpochs. JSON: " & $node)

