#
# OpenAI API
# 
# The OpenAI REST API. Please see https://platform.openai.com/docs/api-reference for more details.
# The version of the OpenAPI document: 2.3.0
# Contact: blah+oapicf@cliffano.com
# Generated by: https://openapi-generator.tech
#

import json
import tables
import marshal
import options

import model_run_step_details_tool_calls_file_search_result_object_content_inner

type RunStepDetailsToolCallsFileSearchResultObject* = object
  ## A result instance of the file search.
  fileId*: string ## The ID of the file that result was found in.
  fileName*: string ## The name of the file that result was found in.
  score*: float ## The score of the result. All values must be a floating point number between 0 and 1.
  content*: Option[seq[RunStepDetailsToolCallsFileSearchResultObject_content_inner]] ## The content of the result that was found. The content is only included if requested via the include query parameter.


# Custom JSON deserialization for RunStepDetailsToolCallsFileSearchResultObject with custom field names
proc to*(node: JsonNode, T: typedesc[RunStepDetailsToolCallsFileSearchResultObject]): RunStepDetailsToolCallsFileSearchResultObject =
  result = RunStepDetailsToolCallsFileSearchResultObject()
  if node.kind == JObject:
    if node.hasKey("file_id"):
      result.fileId = to(node["file_id"], string)
    if node.hasKey("file_name"):
      result.fileName = to(node["file_name"], string)
    if node.hasKey("score"):
      result.score = to(node["score"], float)
    if node.hasKey("content") and node["content"].kind != JNull:
      result.content = some(to(node["content"], typeof(result.content.get())))

# Custom JSON serialization for RunStepDetailsToolCallsFileSearchResultObject with custom field names
proc `%`*(obj: RunStepDetailsToolCallsFileSearchResultObject): JsonNode =
  result = newJObject()
  result["file_id"] = %obj.fileId
  result["file_name"] = %obj.fileName
  result["score"] = %obj.score
  if obj.content.isSome():
    result["content"] = %obj.content.get()

