#
# OpenAI API
# 
# The OpenAI REST API. Please see https://platform.openai.com/docs/api-reference for more details.
# The version of the OpenAPI document: 2.3.0
# Contact: blah+oapicf@cliffano.com
# Generated by: https://openapi-generator.tech
#

import json
import tables
import marshal
import options

import model_run_step_object
import model_run_step_stream_event_one_of
import model_run_step_stream_event_one_of1
import model_run_step_stream_event_one_of2
import model_run_step_stream_event_one_of3
import model_run_step_stream_event_one_of4
import model_run_step_stream_event_one_of5
import model_run_step_stream_event_one_of6

# OneOf type
type RunStepStreamEventKind* {.pure.} = enum
  RunStepStreamEventOneOfVariant
  RunStepStreamEventOneOf1Variant
  RunStepStreamEventOneOf2Variant
  RunStepStreamEventOneOf3Variant
  RunStepStreamEventOneOf4Variant
  RunStepStreamEventOneOf5Variant
  RunStepStreamEventOneOf6Variant

type RunStepStreamEvent* = object
  ## 
  case kind*: RunStepStreamEventKind
  of RunStepStreamEventKind.RunStepStreamEventOneOfVariant:
    RunStepStreamEvent_oneOfValue*: RunStepStreamEventOneOf
  of RunStepStreamEventKind.RunStepStreamEventOneOf1Variant:
    RunStepStreamEvent_oneOf_1Value*: RunStepStreamEventOneOf1
  of RunStepStreamEventKind.RunStepStreamEventOneOf2Variant:
    RunStepStreamEvent_oneOf_2Value*: RunStepStreamEventOneOf2
  of RunStepStreamEventKind.RunStepStreamEventOneOf3Variant:
    RunStepStreamEvent_oneOf_3Value*: RunStepStreamEventOneOf3
  of RunStepStreamEventKind.RunStepStreamEventOneOf4Variant:
    RunStepStreamEvent_oneOf_4Value*: RunStepStreamEventOneOf4
  of RunStepStreamEventKind.RunStepStreamEventOneOf5Variant:
    RunStepStreamEvent_oneOf_5Value*: RunStepStreamEventOneOf5
  of RunStepStreamEventKind.RunStepStreamEventOneOf6Variant:
    RunStepStreamEvent_oneOf_6Value*: RunStepStreamEventOneOf6

proc to*(node: JsonNode, T: typedesc[RunStepStreamEvent]): RunStepStreamEvent =
  ## Custom deserializer for oneOf type - tries each variant
  try:
    return RunStepStreamEvent(kind: RunStepStreamEventKind.RunStepStreamEventOneOfVariant, RunStepStreamEvent_oneOfValue: to(node, RunStepStreamEventOneOf))
  except Exception as e:
    when defined(debug):
      echo "Failed to deserialize as RunStepStreamEventOneOf: ", e.msg
  try:
    return RunStepStreamEvent(kind: RunStepStreamEventKind.RunStepStreamEventOneOf1Variant, RunStepStreamEvent_oneOf_1Value: to(node, RunStepStreamEventOneOf1))
  except Exception as e:
    when defined(debug):
      echo "Failed to deserialize as RunStepStreamEventOneOf1: ", e.msg
  try:
    return RunStepStreamEvent(kind: RunStepStreamEventKind.RunStepStreamEventOneOf2Variant, RunStepStreamEvent_oneOf_2Value: to(node, RunStepStreamEventOneOf2))
  except Exception as e:
    when defined(debug):
      echo "Failed to deserialize as RunStepStreamEventOneOf2: ", e.msg
  try:
    return RunStepStreamEvent(kind: RunStepStreamEventKind.RunStepStreamEventOneOf3Variant, RunStepStreamEvent_oneOf_3Value: to(node, RunStepStreamEventOneOf3))
  except Exception as e:
    when defined(debug):
      echo "Failed to deserialize as RunStepStreamEventOneOf3: ", e.msg
  try:
    return RunStepStreamEvent(kind: RunStepStreamEventKind.RunStepStreamEventOneOf4Variant, RunStepStreamEvent_oneOf_4Value: to(node, RunStepStreamEventOneOf4))
  except Exception as e:
    when defined(debug):
      echo "Failed to deserialize as RunStepStreamEventOneOf4: ", e.msg
  try:
    return RunStepStreamEvent(kind: RunStepStreamEventKind.RunStepStreamEventOneOf5Variant, RunStepStreamEvent_oneOf_5Value: to(node, RunStepStreamEventOneOf5))
  except Exception as e:
    when defined(debug):
      echo "Failed to deserialize as RunStepStreamEventOneOf5: ", e.msg
  try:
    return RunStepStreamEvent(kind: RunStepStreamEventKind.RunStepStreamEventOneOf6Variant, RunStepStreamEvent_oneOf_6Value: to(node, RunStepStreamEventOneOf6))
  except Exception as e:
    when defined(debug):
      echo "Failed to deserialize as RunStepStreamEventOneOf6: ", e.msg
  raise newException(ValueError, "Unable to deserialize into any variant of RunStepStreamEvent. JSON: " & $node)

