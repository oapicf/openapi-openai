#
# OpenAI API
# 
# The OpenAI REST API. Please see https://platform.openai.com/docs/api-reference for more details.
# The version of the OpenAPI document: 2.0.0
# Contact: blah+oapicf@cliffano.com
# Generated by: https://openapi-generator.tech
#

import json
import tables
import marshal
import options

import model_run_object
import model_run_stream_event_one_of
import model_run_stream_event_one_of1
import model_run_stream_event_one_of2
import model_run_stream_event_one_of3
import model_run_stream_event_one_of4
import model_run_stream_event_one_of5
import model_run_stream_event_one_of6
import model_run_stream_event_one_of7
import model_run_stream_event_one_of8

# OneOf type
type RunStreamEventKind* {.pure.} = enum
  RunStreamEventOneOfVariant
  RunStreamEventOneOf1Variant
  RunStreamEventOneOf2Variant
  RunStreamEventOneOf3Variant
  RunStreamEventOneOf4Variant
  RunStreamEventOneOf5Variant
  RunStreamEventOneOf6Variant
  RunStreamEventOneOf7Variant
  RunStreamEventOneOf8Variant

type RunStreamEvent* = object
  ## 
  case kind*: RunStreamEventKind
  of RunStreamEventKind.RunStreamEventOneOfVariant:
    RunStreamEvent_oneOfValue*: RunStreamEventOneOf
  of RunStreamEventKind.RunStreamEventOneOf1Variant:
    RunStreamEvent_oneOf_1Value*: RunStreamEventOneOf1
  of RunStreamEventKind.RunStreamEventOneOf2Variant:
    RunStreamEvent_oneOf_2Value*: RunStreamEventOneOf2
  of RunStreamEventKind.RunStreamEventOneOf3Variant:
    RunStreamEvent_oneOf_3Value*: RunStreamEventOneOf3
  of RunStreamEventKind.RunStreamEventOneOf4Variant:
    RunStreamEvent_oneOf_4Value*: RunStreamEventOneOf4
  of RunStreamEventKind.RunStreamEventOneOf5Variant:
    RunStreamEvent_oneOf_5Value*: RunStreamEventOneOf5
  of RunStreamEventKind.RunStreamEventOneOf6Variant:
    RunStreamEvent_oneOf_6Value*: RunStreamEventOneOf6
  of RunStreamEventKind.RunStreamEventOneOf7Variant:
    RunStreamEvent_oneOf_7Value*: RunStreamEventOneOf7
  of RunStreamEventKind.RunStreamEventOneOf8Variant:
    RunStreamEvent_oneOf_8Value*: RunStreamEventOneOf8

proc to*(node: JsonNode, T: typedesc[RunStreamEvent]): RunStreamEvent =
  ## Custom deserializer for oneOf type - tries each variant
  try:
    return RunStreamEvent(kind: RunStreamEventKind.RunStreamEventOneOfVariant, RunStreamEvent_oneOfValue: to(node, RunStreamEventOneOf))
  except Exception as e:
    when defined(debug):
      echo "Failed to deserialize as RunStreamEventOneOf: ", e.msg
  try:
    return RunStreamEvent(kind: RunStreamEventKind.RunStreamEventOneOf1Variant, RunStreamEvent_oneOf_1Value: to(node, RunStreamEventOneOf1))
  except Exception as e:
    when defined(debug):
      echo "Failed to deserialize as RunStreamEventOneOf1: ", e.msg
  try:
    return RunStreamEvent(kind: RunStreamEventKind.RunStreamEventOneOf2Variant, RunStreamEvent_oneOf_2Value: to(node, RunStreamEventOneOf2))
  except Exception as e:
    when defined(debug):
      echo "Failed to deserialize as RunStreamEventOneOf2: ", e.msg
  try:
    return RunStreamEvent(kind: RunStreamEventKind.RunStreamEventOneOf3Variant, RunStreamEvent_oneOf_3Value: to(node, RunStreamEventOneOf3))
  except Exception as e:
    when defined(debug):
      echo "Failed to deserialize as RunStreamEventOneOf3: ", e.msg
  try:
    return RunStreamEvent(kind: RunStreamEventKind.RunStreamEventOneOf4Variant, RunStreamEvent_oneOf_4Value: to(node, RunStreamEventOneOf4))
  except Exception as e:
    when defined(debug):
      echo "Failed to deserialize as RunStreamEventOneOf4: ", e.msg
  try:
    return RunStreamEvent(kind: RunStreamEventKind.RunStreamEventOneOf5Variant, RunStreamEvent_oneOf_5Value: to(node, RunStreamEventOneOf5))
  except Exception as e:
    when defined(debug):
      echo "Failed to deserialize as RunStreamEventOneOf5: ", e.msg
  try:
    return RunStreamEvent(kind: RunStreamEventKind.RunStreamEventOneOf6Variant, RunStreamEvent_oneOf_6Value: to(node, RunStreamEventOneOf6))
  except Exception as e:
    when defined(debug):
      echo "Failed to deserialize as RunStreamEventOneOf6: ", e.msg
  try:
    return RunStreamEvent(kind: RunStreamEventKind.RunStreamEventOneOf7Variant, RunStreamEvent_oneOf_7Value: to(node, RunStreamEventOneOf7))
  except Exception as e:
    when defined(debug):
      echo "Failed to deserialize as RunStreamEventOneOf7: ", e.msg
  try:
    return RunStreamEvent(kind: RunStreamEventKind.RunStreamEventOneOf8Variant, RunStreamEvent_oneOf_8Value: to(node, RunStreamEventOneOf8))
  except Exception as e:
    when defined(debug):
      echo "Failed to deserialize as RunStreamEventOneOf8: ", e.msg
  raise newException(ValueError, "Unable to deserialize into any variant of RunStreamEvent. JSON: " & $node)

