#
# OpenAI API
# 
# The OpenAI REST API. Please see https://platform.openai.com/docs/api-reference for more details.
# The version of the OpenAPI document: 2.3.0
# Contact: blah+oapicf@cliffano.com
# Generated by: https://openapi-generator.tech
#

import json
import tables
import marshal
import options

import model_costs_result
import model_costs_result_amount
import model_usage_audio_speeches_result
import model_usage_audio_transcriptions_result
import model_usage_code_interpreter_sessions_result
import model_usage_completions_result
import model_usage_embeddings_result
import model_usage_images_result
import model_usage_moderations_result
import model_usage_vector_stores_result

# OneOf type
type UsageTimeBucketResultInnerKind* {.pure.} = enum
  UsageCompletionsResultVariant
  UsageEmbeddingsResultVariant
  UsageModerationsResultVariant
  UsageImagesResultVariant
  UsageAudioSpeechesResultVariant
  UsageAudioTranscriptionsResultVariant
  UsageVectorStoresResultVariant
  UsageCodeInterpreterSessionsResultVariant
  CostsResultVariant

type UsageTimeBucketResultInner* = object
  ## 
  case kind*: UsageTimeBucketResultInnerKind
  of UsageTimeBucketResultInnerKind.UsageCompletionsResultVariant:
    UsageCompletionsResultValue*: UsageCompletionsResult
  of UsageTimeBucketResultInnerKind.UsageEmbeddingsResultVariant:
    UsageEmbeddingsResultValue*: UsageEmbeddingsResult
  of UsageTimeBucketResultInnerKind.UsageModerationsResultVariant:
    UsageModerationsResultValue*: UsageModerationsResult
  of UsageTimeBucketResultInnerKind.UsageImagesResultVariant:
    UsageImagesResultValue*: UsageImagesResult
  of UsageTimeBucketResultInnerKind.UsageAudioSpeechesResultVariant:
    UsageAudioSpeechesResultValue*: UsageAudioSpeechesResult
  of UsageTimeBucketResultInnerKind.UsageAudioTranscriptionsResultVariant:
    UsageAudioTranscriptionsResultValue*: UsageAudioTranscriptionsResult
  of UsageTimeBucketResultInnerKind.UsageVectorStoresResultVariant:
    UsageVectorStoresResultValue*: UsageVectorStoresResult
  of UsageTimeBucketResultInnerKind.UsageCodeInterpreterSessionsResultVariant:
    UsageCodeInterpreterSessionsResultValue*: UsageCodeInterpreterSessionsResult
  of UsageTimeBucketResultInnerKind.CostsResultVariant:
    CostsResultValue*: CostsResult

proc to*(node: JsonNode, T: typedesc[UsageTimeBucketResultInner]): UsageTimeBucketResultInner =
  ## Custom deserializer for oneOf type - tries each variant
  try:
    return UsageTimeBucketResultInner(kind: UsageTimeBucketResultInnerKind.UsageCompletionsResultVariant, UsageCompletionsResultValue: to(node, UsageCompletionsResult))
  except Exception as e:
    when defined(debug):
      echo "Failed to deserialize as UsageCompletionsResult: ", e.msg
  try:
    return UsageTimeBucketResultInner(kind: UsageTimeBucketResultInnerKind.UsageEmbeddingsResultVariant, UsageEmbeddingsResultValue: to(node, UsageEmbeddingsResult))
  except Exception as e:
    when defined(debug):
      echo "Failed to deserialize as UsageEmbeddingsResult: ", e.msg
  try:
    return UsageTimeBucketResultInner(kind: UsageTimeBucketResultInnerKind.UsageModerationsResultVariant, UsageModerationsResultValue: to(node, UsageModerationsResult))
  except Exception as e:
    when defined(debug):
      echo "Failed to deserialize as UsageModerationsResult: ", e.msg
  try:
    return UsageTimeBucketResultInner(kind: UsageTimeBucketResultInnerKind.UsageImagesResultVariant, UsageImagesResultValue: to(node, UsageImagesResult))
  except Exception as e:
    when defined(debug):
      echo "Failed to deserialize as UsageImagesResult: ", e.msg
  try:
    return UsageTimeBucketResultInner(kind: UsageTimeBucketResultInnerKind.UsageAudioSpeechesResultVariant, UsageAudioSpeechesResultValue: to(node, UsageAudioSpeechesResult))
  except Exception as e:
    when defined(debug):
      echo "Failed to deserialize as UsageAudioSpeechesResult: ", e.msg
  try:
    return UsageTimeBucketResultInner(kind: UsageTimeBucketResultInnerKind.UsageAudioTranscriptionsResultVariant, UsageAudioTranscriptionsResultValue: to(node, UsageAudioTranscriptionsResult))
  except Exception as e:
    when defined(debug):
      echo "Failed to deserialize as UsageAudioTranscriptionsResult: ", e.msg
  try:
    return UsageTimeBucketResultInner(kind: UsageTimeBucketResultInnerKind.UsageVectorStoresResultVariant, UsageVectorStoresResultValue: to(node, UsageVectorStoresResult))
  except Exception as e:
    when defined(debug):
      echo "Failed to deserialize as UsageVectorStoresResult: ", e.msg
  try:
    return UsageTimeBucketResultInner(kind: UsageTimeBucketResultInnerKind.UsageCodeInterpreterSessionsResultVariant, UsageCodeInterpreterSessionsResultValue: to(node, UsageCodeInterpreterSessionsResult))
  except Exception as e:
    when defined(debug):
      echo "Failed to deserialize as UsageCodeInterpreterSessionsResult: ", e.msg
  try:
    return UsageTimeBucketResultInner(kind: UsageTimeBucketResultInnerKind.CostsResultVariant, CostsResultValue: to(node, CostsResult))
  except Exception as e:
    when defined(debug):
      echo "Failed to deserialize as CostsResult: ", e.msg
  raise newException(ValueError, "Unable to deserialize into any variant of UsageTimeBucketResultInner. JSON: " & $node)

