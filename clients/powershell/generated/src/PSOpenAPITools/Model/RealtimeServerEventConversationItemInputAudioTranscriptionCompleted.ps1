#
# OpenAI API
# The OpenAI REST API. Please see https://platform.openai.com/docs/api-reference for more details.
# Version: 2.3.0
# Contact: blah+oapicf@cliffano.com
# Generated by OpenAPI Generator: https://openapi-generator.tech
#

<#
.SYNOPSIS

No summary available.

.DESCRIPTION

This event is the output of audio transcription for user audio written to the  user audio buffer. Transcription begins when the input audio buffer is  committed by the client or server (in `server_vad` mode). Transcription runs  asynchronously with Response creation, so this event may come before or after  the Response events.  Realtime API models accept audio natively, and thus input transcription is a  separate process run on a separate ASR (Automatic Speech Recognition) model,  currently always `whisper-1`. Thus the transcript may diverge somewhat from  the model's interpretation, and should be treated as a rough guide. 

.PARAMETER EventId
The unique ID of the server event.
.PARAMETER Type
The event type, must be `conversation.item.input_audio_transcription.completed`. 
.PARAMETER ItemId
The ID of the user message item containing the audio.
.PARAMETER ContentIndex
The index of the content part containing the audio.
.PARAMETER Transcript
The transcribed text.
.OUTPUTS

RealtimeServerEventConversationItemInputAudioTranscriptionCompleted<PSCustomObject>
#>

function Initialize-RealtimeServerEventConversationItemInputAudioTranscriptionCompleted {
    [CmdletBinding()]
    Param (
        [Parameter(Position = 0, ValueFromPipelineByPropertyName = $true)]
        [String]
        ${EventId},
        [Parameter(Position = 1, ValueFromPipelineByPropertyName = $true)]
        [ValidateSet("conversation.item.input_audio_transcription.completed")]
        [String]
        ${Type},
        [Parameter(Position = 2, ValueFromPipelineByPropertyName = $true)]
        [String]
        ${ItemId},
        [Parameter(Position = 3, ValueFromPipelineByPropertyName = $true)]
        [Int32]
        ${ContentIndex},
        [Parameter(Position = 4, ValueFromPipelineByPropertyName = $true)]
        [String]
        ${Transcript}
    )

    Process {
        'Creating PSCustomObject: PSOpenAPITools => RealtimeServerEventConversationItemInputAudioTranscriptionCompleted' | Write-Debug
        $PSBoundParameters | Out-DebugParameter | Write-Debug

        if ($null -eq $EventId) {
            throw "invalid value for 'EventId', 'EventId' cannot be null."
        }

        if ($null -eq $Type) {
            throw "invalid value for 'Type', 'Type' cannot be null."
        }

        if ($null -eq $ItemId) {
            throw "invalid value for 'ItemId', 'ItemId' cannot be null."
        }

        if ($null -eq $ContentIndex) {
            throw "invalid value for 'ContentIndex', 'ContentIndex' cannot be null."
        }

        if ($null -eq $Transcript) {
            throw "invalid value for 'Transcript', 'Transcript' cannot be null."
        }


        $PSO = [PSCustomObject]@{
            "event_id" = ${EventId}
            "type" = ${Type}
            "item_id" = ${ItemId}
            "content_index" = ${ContentIndex}
            "transcript" = ${Transcript}
        }


        return $PSO
    }
}

<#
.SYNOPSIS

Convert from JSON to RealtimeServerEventConversationItemInputAudioTranscriptionCompleted<PSCustomObject>

.DESCRIPTION

Convert from JSON to RealtimeServerEventConversationItemInputAudioTranscriptionCompleted<PSCustomObject>

.PARAMETER Json

Json object

.OUTPUTS

RealtimeServerEventConversationItemInputAudioTranscriptionCompleted<PSCustomObject>
#>
function ConvertFrom-JsonToRealtimeServerEventConversationItemInputAudioTranscriptionCompleted {
    Param(
        [AllowEmptyString()]
        [string]$Json
    )

    Process {
        'Converting JSON to PSCustomObject: PSOpenAPITools => RealtimeServerEventConversationItemInputAudioTranscriptionCompleted' | Write-Debug
        $PSBoundParameters | Out-DebugParameter | Write-Debug

        $JsonParameters = ConvertFrom-Json -InputObject $Json

        # check if Json contains properties not defined in RealtimeServerEventConversationItemInputAudioTranscriptionCompleted
        $AllProperties = ("event_id", "type", "item_id", "content_index", "transcript")
        foreach ($name in $JsonParameters.PsObject.Properties.Name) {
            if (!($AllProperties.Contains($name))) {
                throw "Error! JSON key '$name' not found in the properties: $($AllProperties)"
            }
        }

        If ([string]::IsNullOrEmpty($Json) -or $Json -eq "{}") { # empty json
            throw "Error! Empty JSON cannot be serialized due to the required property 'event_id' missing."
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "event_id"))) {
            throw "Error! JSON cannot be serialized due to the required property 'event_id' missing."
        } else {
            $EventId = $JsonParameters.PSobject.Properties["event_id"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "type"))) {
            throw "Error! JSON cannot be serialized due to the required property 'type' missing."
        } else {
            $Type = $JsonParameters.PSobject.Properties["type"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "item_id"))) {
            throw "Error! JSON cannot be serialized due to the required property 'item_id' missing."
        } else {
            $ItemId = $JsonParameters.PSobject.Properties["item_id"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "content_index"))) {
            throw "Error! JSON cannot be serialized due to the required property 'content_index' missing."
        } else {
            $ContentIndex = $JsonParameters.PSobject.Properties["content_index"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "transcript"))) {
            throw "Error! JSON cannot be serialized due to the required property 'transcript' missing."
        } else {
            $Transcript = $JsonParameters.PSobject.Properties["transcript"].value
        }

        $PSO = [PSCustomObject]@{
            "event_id" = ${EventId}
            "type" = ${Type}
            "item_id" = ${ItemId}
            "content_index" = ${ContentIndex}
            "transcript" = ${Transcript}
        }

        return $PSO
    }

}

