#
# OpenAI API
# The OpenAI REST API. Please see https://platform.openai.com/docs/api-reference for more details.
# Version: 2.3.0
# Contact: blah+oapicf@cliffano.com
# Generated by OpenAPI Generator: https://openapi-generator.tech
#

<#
.SYNOPSIS

No summary available.

.DESCRIPTION

Configuration for turn detection. Can be set to `null` to turn off. Server  VAD means that the model will detect the start and end of speech based on  audio volume and respond at the end of user speech. 

.PARAMETER Type
Type of turn detection, only `server_vad` is currently supported. 
.PARAMETER Threshold
Activation threshold for VAD (0.0 to 1.0), this defaults to 0.5. A  higher threshold will require louder audio to activate the model, and  thus might perform better in noisy environments. 
.PARAMETER PrefixPaddingMs
Amount of audio to include before the VAD detected speech (in  milliseconds). Defaults to 300ms. 
.PARAMETER SilenceDurationMs
Duration of silence to detect speech stop (in milliseconds). Defaults  to 500ms. With shorter values the model will respond more quickly,  but may jump in on short pauses from the user. 
.PARAMETER CreateResponse
Whether or not to automatically generate a response when VAD is enabled. `true` by default. 
.OUTPUTS

RealtimeSessionCreateRequestTurnDetection<PSCustomObject>
#>

function Initialize-RealtimeSessionCreateRequestTurnDetection {
    [CmdletBinding()]
    Param (
        [Parameter(Position = 0, ValueFromPipelineByPropertyName = $true)]
        [String]
        ${Type},
        [Parameter(Position = 1, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[Decimal]]
        ${Threshold},
        [Parameter(Position = 2, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[Int32]]
        ${PrefixPaddingMs},
        [Parameter(Position = 3, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[Int32]]
        ${SilenceDurationMs},
        [Parameter(Position = 4, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[Boolean]]
        ${CreateResponse} = $true
    )

    Process {
        'Creating PSCustomObject: PSOpenAPITools => RealtimeSessionCreateRequestTurnDetection' | Write-Debug
        $PSBoundParameters | Out-DebugParameter | Write-Debug


        $PSO = [PSCustomObject]@{
            "type" = ${Type}
            "threshold" = ${Threshold}
            "prefix_padding_ms" = ${PrefixPaddingMs}
            "silence_duration_ms" = ${SilenceDurationMs}
            "create_response" = ${CreateResponse}
        }


        return $PSO
    }
}

<#
.SYNOPSIS

Convert from JSON to RealtimeSessionCreateRequestTurnDetection<PSCustomObject>

.DESCRIPTION

Convert from JSON to RealtimeSessionCreateRequestTurnDetection<PSCustomObject>

.PARAMETER Json

Json object

.OUTPUTS

RealtimeSessionCreateRequestTurnDetection<PSCustomObject>
#>
function ConvertFrom-JsonToRealtimeSessionCreateRequestTurnDetection {
    Param(
        [AllowEmptyString()]
        [string]$Json
    )

    Process {
        'Converting JSON to PSCustomObject: PSOpenAPITools => RealtimeSessionCreateRequestTurnDetection' | Write-Debug
        $PSBoundParameters | Out-DebugParameter | Write-Debug

        $JsonParameters = ConvertFrom-Json -InputObject $Json

        # check if Json contains properties not defined in RealtimeSessionCreateRequestTurnDetection
        $AllProperties = ("type", "threshold", "prefix_padding_ms", "silence_duration_ms", "create_response")
        foreach ($name in $JsonParameters.PsObject.Properties.Name) {
            if (!($AllProperties.Contains($name))) {
                throw "Error! JSON key '$name' not found in the properties: $($AllProperties)"
            }
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "type"))) { #optional property not found
            $Type = $null
        } else {
            $Type = $JsonParameters.PSobject.Properties["type"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "threshold"))) { #optional property not found
            $Threshold = $null
        } else {
            $Threshold = $JsonParameters.PSobject.Properties["threshold"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "prefix_padding_ms"))) { #optional property not found
            $PrefixPaddingMs = $null
        } else {
            $PrefixPaddingMs = $JsonParameters.PSobject.Properties["prefix_padding_ms"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "silence_duration_ms"))) { #optional property not found
            $SilenceDurationMs = $null
        } else {
            $SilenceDurationMs = $JsonParameters.PSobject.Properties["silence_duration_ms"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "create_response"))) { #optional property not found
            $CreateResponse = $null
        } else {
            $CreateResponse = $JsonParameters.PSobject.Properties["create_response"].value
        }

        $PSO = [PSCustomObject]@{
            "type" = ${Type}
            "threshold" = ${Threshold}
            "prefix_padding_ms" = ${PrefixPaddingMs}
            "silence_duration_ms" = ${SilenceDurationMs}
            "create_response" = ${CreateResponse}
        }

        return $PSO
    }

}

