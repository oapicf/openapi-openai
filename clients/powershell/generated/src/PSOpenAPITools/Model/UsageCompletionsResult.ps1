#
# OpenAI API
# The OpenAI REST API. Please see https://platform.openai.com/docs/api-reference for more details.
# Version: 2.3.0
# Contact: blah+oapicf@cliffano.com
# Generated by OpenAPI Generator: https://openapi-generator.tech
#

<#
.SYNOPSIS

No summary available.

.DESCRIPTION

The aggregated completions usage details of the specific time bucket.

.PARAMETER Object
No description available.
.PARAMETER InputTokens
The aggregated number of text input tokens used, including cached tokens. For customers subscribe to scale tier, this includes scale tier tokens.
.PARAMETER InputCachedTokens
The aggregated number of text input tokens that has been cached from previous requests. For customers subscribe to scale tier, this includes scale tier tokens.
.PARAMETER OutputTokens
The aggregated number of text output tokens used. For customers subscribe to scale tier, this includes scale tier tokens.
.PARAMETER InputAudioTokens
The aggregated number of audio input tokens used, including cached tokens.
.PARAMETER OutputAudioTokens
The aggregated number of audio output tokens used.
.PARAMETER NumModelRequests
The count of requests made to the model.
.PARAMETER ProjectId
When `group_by=project_id`, this field provides the project ID of the grouped usage result.
.PARAMETER UserId
When `group_by=user_id`, this field provides the user ID of the grouped usage result.
.PARAMETER ApiKeyId
When `group_by=api_key_id`, this field provides the API key ID of the grouped usage result.
.PARAMETER Model
When `group_by=model`, this field provides the model name of the grouped usage result.
.PARAMETER Batch
When `group_by=batch`, this field tells whether the grouped usage result is batch or not.
.OUTPUTS

UsageCompletionsResult<PSCustomObject>
#>

function Initialize-UsageCompletionsResult {
    [CmdletBinding()]
    Param (
        [Parameter(Position = 0, ValueFromPipelineByPropertyName = $true)]
        [ValidateSet("organization.usage.completions.result")]
        [String]
        ${Object},
        [Parameter(Position = 1, ValueFromPipelineByPropertyName = $true)]
        [Int32]
        ${InputTokens},
        [Parameter(Position = 2, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[Int32]]
        ${InputCachedTokens},
        [Parameter(Position = 3, ValueFromPipelineByPropertyName = $true)]
        [Int32]
        ${OutputTokens},
        [Parameter(Position = 4, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[Int32]]
        ${InputAudioTokens},
        [Parameter(Position = 5, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[Int32]]
        ${OutputAudioTokens},
        [Parameter(Position = 6, ValueFromPipelineByPropertyName = $true)]
        [Int32]
        ${NumModelRequests},
        [Parameter(Position = 7, ValueFromPipelineByPropertyName = $true)]
        [String]
        ${ProjectId},
        [Parameter(Position = 8, ValueFromPipelineByPropertyName = $true)]
        [String]
        ${UserId},
        [Parameter(Position = 9, ValueFromPipelineByPropertyName = $true)]
        [String]
        ${ApiKeyId},
        [Parameter(Position = 10, ValueFromPipelineByPropertyName = $true)]
        [String]
        ${Model},
        [Parameter(Position = 11, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[Boolean]]
        ${Batch}
    )

    Process {
        'Creating PSCustomObject: PSOpenAPITools => UsageCompletionsResult' | Write-Debug
        $PSBoundParameters | Out-DebugParameter | Write-Debug

        if ($null -eq $Object) {
            throw "invalid value for 'Object', 'Object' cannot be null."
        }

        if ($null -eq $InputTokens) {
            throw "invalid value for 'InputTokens', 'InputTokens' cannot be null."
        }

        if ($null -eq $OutputTokens) {
            throw "invalid value for 'OutputTokens', 'OutputTokens' cannot be null."
        }

        if ($null -eq $NumModelRequests) {
            throw "invalid value for 'NumModelRequests', 'NumModelRequests' cannot be null."
        }


        $PSO = [PSCustomObject]@{
            "object" = ${Object}
            "input_tokens" = ${InputTokens}
            "input_cached_tokens" = ${InputCachedTokens}
            "output_tokens" = ${OutputTokens}
            "input_audio_tokens" = ${InputAudioTokens}
            "output_audio_tokens" = ${OutputAudioTokens}
            "num_model_requests" = ${NumModelRequests}
            "project_id" = ${ProjectId}
            "user_id" = ${UserId}
            "api_key_id" = ${ApiKeyId}
            "model" = ${Model}
            "batch" = ${Batch}
        }


        return $PSO
    }
}

<#
.SYNOPSIS

Convert from JSON to UsageCompletionsResult<PSCustomObject>

.DESCRIPTION

Convert from JSON to UsageCompletionsResult<PSCustomObject>

.PARAMETER Json

Json object

.OUTPUTS

UsageCompletionsResult<PSCustomObject>
#>
function ConvertFrom-JsonToUsageCompletionsResult {
    Param(
        [AllowEmptyString()]
        [string]$Json
    )

    Process {
        'Converting JSON to PSCustomObject: PSOpenAPITools => UsageCompletionsResult' | Write-Debug
        $PSBoundParameters | Out-DebugParameter | Write-Debug

        $JsonParameters = ConvertFrom-Json -InputObject $Json

        # check if Json contains properties not defined in UsageCompletionsResult
        $AllProperties = ("object", "input_tokens", "input_cached_tokens", "output_tokens", "input_audio_tokens", "output_audio_tokens", "num_model_requests", "project_id", "user_id", "api_key_id", "model", "batch")
        foreach ($name in $JsonParameters.PsObject.Properties.Name) {
            if (!($AllProperties.Contains($name))) {
                throw "Error! JSON key '$name' not found in the properties: $($AllProperties)"
            }
        }

        If ([string]::IsNullOrEmpty($Json) -or $Json -eq "{}") { # empty json
            throw "Error! Empty JSON cannot be serialized due to the required property 'object' missing."
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "object"))) {
            throw "Error! JSON cannot be serialized due to the required property 'object' missing."
        } else {
            $Object = $JsonParameters.PSobject.Properties["object"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "input_tokens"))) {
            throw "Error! JSON cannot be serialized due to the required property 'input_tokens' missing."
        } else {
            $InputTokens = $JsonParameters.PSobject.Properties["input_tokens"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "output_tokens"))) {
            throw "Error! JSON cannot be serialized due to the required property 'output_tokens' missing."
        } else {
            $OutputTokens = $JsonParameters.PSobject.Properties["output_tokens"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "num_model_requests"))) {
            throw "Error! JSON cannot be serialized due to the required property 'num_model_requests' missing."
        } else {
            $NumModelRequests = $JsonParameters.PSobject.Properties["num_model_requests"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "input_cached_tokens"))) { #optional property not found
            $InputCachedTokens = $null
        } else {
            $InputCachedTokens = $JsonParameters.PSobject.Properties["input_cached_tokens"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "input_audio_tokens"))) { #optional property not found
            $InputAudioTokens = $null
        } else {
            $InputAudioTokens = $JsonParameters.PSobject.Properties["input_audio_tokens"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "output_audio_tokens"))) { #optional property not found
            $OutputAudioTokens = $null
        } else {
            $OutputAudioTokens = $JsonParameters.PSobject.Properties["output_audio_tokens"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "project_id"))) { #optional property not found
            $ProjectId = $null
        } else {
            $ProjectId = $JsonParameters.PSobject.Properties["project_id"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "user_id"))) { #optional property not found
            $UserId = $null
        } else {
            $UserId = $JsonParameters.PSobject.Properties["user_id"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "api_key_id"))) { #optional property not found
            $ApiKeyId = $null
        } else {
            $ApiKeyId = $JsonParameters.PSobject.Properties["api_key_id"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "model"))) { #optional property not found
            $Model = $null
        } else {
            $Model = $JsonParameters.PSobject.Properties["model"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "batch"))) { #optional property not found
            $Batch = $null
        } else {
            $Batch = $JsonParameters.PSobject.Properties["batch"].value
        }

        $PSO = [PSCustomObject]@{
            "object" = ${Object}
            "input_tokens" = ${InputTokens}
            "input_cached_tokens" = ${InputCachedTokens}
            "output_tokens" = ${OutputTokens}
            "input_audio_tokens" = ${InputAudioTokens}
            "output_audio_tokens" = ${OutputAudioTokens}
            "num_model_requests" = ${NumModelRequests}
            "project_id" = ${ProjectId}
            "user_id" = ${UserId}
            "api_key_id" = ${ApiKeyId}
            "model" = ${Model}
            "batch" = ${Batch}
        }

        return $PSO
    }

}

